FROM: eks dev <eks...@yahoo.co.uk>
SUBJECT: Re: document retrieval 100 times slower after finishing some heavy disk operation
DATE: 29 Jun 2008

yes, we have seen this many times. The problem is, especially on windows ,that some simple
commands like copy make havoc of File System cache, as matter of fact, we are not sure it
is the cache that is making problems, generally all IO operations start blocking like crazy
(we have seen this effect on 32Gb machine, where complete index fits comfortably in RAM, ca.
2Gb, and than copy of another file of this size caused lucene to wait endlessly on OS to provide
some signs of life. Adding one disk more helped a lot, as well as some coordination between
lucene and external processes that are IO intensive, warm-up is easy, as long as you can achieve
coordination between processes)... 

good luck

 





----- Original Message ----
> From: qaz zaq <fortques@yahoo.com>
> To: java-user@lucene.apache..org
> Sent: Sunday, 29 June, 2008 12:34:24 AM
> Subject: document retrieval 100 times slower after finishing some heavy disk operation
> 
> Hi,
>  
> I ran into a very strange situation regarding document retrieval slowness and 
> want to get some advice urgently.
>  
> I have 2 FSDirectory indexes each with size about 500M. I have 2 parallel search 
> threads fetching 200 documents from these 2 indexes which usually take less then 
> 16ms. However, everytime afer some heavy disk operations (such as copy 1G size 
> of a file into that disk) , the document retrieval slows down to couple seconds 
> immediately, even well after this disk operation being finished for a long time. 
> It appears Lucene could never resume to it's original speed and I have to 
> restart by application inorder to get it normal. 
>  
> Anybody has encountered similiar problems? 



      __________________________________________________________
Not happy with your email address?.
Get the one you really want - millions of new email addresses available now at Yahoo! http://uk.docs.yahoo.com/ymail/new.html


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


