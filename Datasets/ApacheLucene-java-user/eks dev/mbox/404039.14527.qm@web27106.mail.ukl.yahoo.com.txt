FROM: eks dev <eks...@yahoo.co.uk>
SUBJECT: Re: speed of BooleanQueries on 2.9
DATE: 15 Jul 2009


>Are you sure when you ran the test you called
> setAllowDocsOutOfOrder(true)?

right, just a second.... this is static... we have two indices, something runs first and sets
it to false... ouch, I hate statics... they make you beleive you can set them during construction...
traces come in a couple of minutes.




 




----- Original Message ----
> From: Michael McCandless <lucene@mikemccandless.com>
> To: java-user@lucene.apache.org
> Sent: Thursday, 16 July, 2009 0:50:28
> Subject: Re: speed of BooleanQueries on 2.9
> 
> I think that query should rewrite to a BQ that would in turn use BS.
> Are you sure when you ran the test you called
> setAllowDocsOutOfOrder(true)?
> 
> (How else can we explain that BS is in the "hung" stack trace, and
> that setAllowDocsOutOfOrder alters the behavior?)
> 
> Mike
> 
> On Wed, Jul 15, 2009 at 6:03 PM, eks devwrote:
> >
> > Mike's instrumented version is not printing anything on this query
> > and it works fine with trunk version
> >
> > BS2 gets executed (top Query Required... +((( )))?
> >
> > again the Query:
> > Query: +(((NAME:maria NAME:marae^0.25171682 NAME:marai^0.2365632 
> NAME:marao^0.2365632 NAME:marau^0.2365632 NAME:marea^0.2834352 
> NAME:marei^0.25171682 NAME:mareo^0.25171682 NAME:mareu^0.25171682 
> NAME:marie^0.28577283 NAME:marieh^0.2451648 NAME:mariha^0.2583552 
> NAME:mariu^0.27189124 NAME:marja^0.2834352 NAME:marje^0.2673408 
> NAME:marji^0.25171682 NAME:marjo^0.25171682 NAME:marju^0.25171682 
> NAME:marla^0.2673408 NAME:marle^0.25171682 NAME:marli^0.2365632 
> NAME:marlo^0.2365632 NAME:maroa^0.2673408 NAME:maroe^0.25171682 
> NAME:maroi^0.2365632 NAME:marou^0.2365632 NAME:marua^0.2673408 
> NAME:marue^0.25171682 NAME:marui^0.2365632 NAME:maruo^0.2365632 
> NAME:marye^0.2673408 NAME:maryi^0.25171682 NAME:maryo^0.25171682 
> NAME:meria^0.2787888 NAME:miria^0.25835523 NAME:moria^0.25835523 
> NAME:muria^0.25835523 NAME:naria^0.27648002 NAME:narie^0.25392002 
> NAME:neria^0.25392002) (NAME:piekarski NAME:bekarski^0.19200002 
> NAME:beugarski^0.20281483 NAME:blacharski^0.19200002
> >  NAME:lekarski^0.19200002 NAME:pecarski^0.21294187 NAME:peikarski^0.27648002 
> NAME:pekarska^0.20172001 NAME:pekarski^0.22446752 NAME:pekarskj^0.21294187 
> NAME:pekarsky^0.21294187 NAME:pickarske^0.21168004 NAME:pickarski^0.22073482 
> NAME:piekalski^0.23941332 NAME:piekanski^0.23941332 NAME:piekaraka^0.22533335 
> NAME:piekarsci^0.29205337 NAME:piekarska^0.28421336 NAME:piekarskie^0.25392002 
> NAME:piekarsky^0.29205337 NAME:piekarzcyk^0.23232001 NAME:piekarzki^0.29205337 
> NAME:piekaski^0.24843001 NAME:piekavska^0.22533335 NAME:piekorski^0.28421336 
> NAME:pielarski^0.22997928 NAME:pierarski^0.22997928 NAME:pierkarski^0.24661335 
> NAME:piesarski^0.22997928 NAME:pietarski^0.22997928 NAME:pietkarski^0.24661335 
> NAME:pikarski^0.23232001 NAME:piowarski^0.20281483 NAME:pirkarski^0.22073482 
> NAME:plocharski^0.21168004 NAME:pokarski^0.20172001 NAME:polikarski^0.20172001 
> NAME:pukarski^0.20172001 NAME:pyekarska^0.26508 NAME:siekarski^0.20281483))^2.0)
> >
> >
> >
> >
> >
> >
> >
> >
> > ----- Original Message ----
> >> From: eks dev 
> >> To: java-user@lucene.apache.org; yonik@lucidimagination.com
> >> Sent: Wednesday, 15 July, 2009 23:57:22
> >> Subject: Re: speed of BooleanQueries on 2.9
> >>
> >>
> >>
> >> it works with current trunk, 10 Minutes ago built?!
> >>
> >> if I put lucene from yesterday, the same symptoms like yesterday...
> >>
> >> Mike's instrumented version is running ...
> >>
> >>
> >>
> >> ----- Original Message ----
> >> > From: Yonik Seeley
> >> > To: java-user@lucene.apache.org
> >> > Sent: Wednesday, 15 July, 2009 23:34:29
> >> > Subject: Re: speed of BooleanQueries on 2.9
> >> >
> >> > On Wed, Jul 15, 2009 at 4:37 PM, Uwe Schindlerwrote:
> >> > > And the fix only affects custom DocIdSetIterators.
> >> >
> >> > And custom Queries (via Scorer) since Scorer inherits from DISI.
> >> > But as Mike says, it shouldn't be the issue behind in this thread.
> >> >
> >> > -Yonik
> >> > http://www.lucidimagination.com
> >> >
> >> > ---------------------------------------------------------------------
> >> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >>
> >>
> >>
> >>
> >>
> >> ---------------------------------------------------------------------
> >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >> For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
> >
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org



      

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


