FROM: Florian Weimer ...@deneb.enyo.de>
SUBJECT: Re: A model for predicting indexing memory costs?
DATE: 14 Mar 2009

* mark harwood:

> Thanks, I have a heap dump now from a run with reduced JVM memory
> (in order to speed up a failure point) and am working through it
> offline with VisualVm.

> This test induced a proper OOM as opposed to one of those "timed out
> waiting for GC " type OOMs so may be misleading.

It wouldn't be unusual if the same root cause sometimes results in a
straight OOM, sometimes in the time-out variant.

> I have another run soldiering on with the -XX:-UseGCOverheadLimit
> setting to avoid GC -related timeouts and this has not hit OOM but
> is slowing to a crawl.

You could try to enable hprof and get a heap dump when you terminate
the VM with SIGINT/^C.

In the end, you probably have to do this with a realisticly-sized run
to get good data.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


