FROM: Christiaan Fluit <christiaan.fl...@aduna-software.com>
SUBJECT: Re: MergeException
DATE: 21 Apr 2009

I have experienced similar problems (see the "semi-infinite loop during 
merging" thread - still working out the problem): the merger gets into 
an infinite loop and causes my drive to be filled with temporary files 
that are not deleted, until it runs out of space. Sometimes it exits 
with a MergeException wrapping one of a variety of IOExceptions (e.g. a 
FileNotFoundException), sometimes it just keeps on consuming all 
available CPU time.

I think the "_k0z.fnm" file name indicates that a lot of segments have 
already been created, as it starts iterating with _0, _1, ... I don't 
want to jump to conclusions immediately, but this is consistent with a 
merger gone loose.

Was your drive full as well afterwards?

Regards,

Chris
--

Martine Woudstra wrote:
> Hi all,
> 
> I'm using Lucene 2.4.1. for building an ngram index. Indexing works
> well until I try to open the index built so far with Luke. A
> MergeException is thrown, see below. Opening an index with Luke during
> indexing never caused problems with Lucene 2.3. Anyone familiar with
> this problem?
> 
> Thanks in advance,
> 
> Martine van der Heijden
> 
> 
> Exception in thread "Lucene Merge Thread #3067"
> org.apache.lucene.index.MergePolicy$MergeException:
> java.io.FileNotFoundException: D:\indexngram\_k0z.fnm (Het systeem kan
> het opgegeven bestand niet vinden)
> 	at org.apache.lucene.index.ConcurrentMergeScheduler.handleMergeException(ConcurrentMergeScheduler.java:309)
> 	at org.apache.lucene.index.ConcurrentMergeScheduler$MergeThread.run(ConcurrentMergeScheduler.java:286)
> Caused by: java.io.FileNotFoundException: D:\indexngram\_k0z.fnm (Het
> systeem kan het opgegeven bestand niet vinden)
> 	at java.io.RandomAccessFile.open(Native Method)
> 	at java.io.RandomAccessFile.<init>(RandomAccessFile.java:212)
> 	at org.apache.lucene.store.FSDirectory$FSIndexInput$Descriptor.<init>(FSDirectory.java:552)
> 	at org.apache.lucene.store.FSDirectory$FSIndexInput.<init>(FSDirectory.java:582)
> 	at org.apache.lucene.store.FSDirectory.openInput(FSDirectory.java:488)
> 	at org.apache.lucene.store.FSDirectory.openInput(FSDirectory.java:482)
> 	at org.apache.lucene.index.CompoundFileWriter.copyFile(CompoundFileWriter.java:221)
> 	at org.apache.lucene.index.CompoundFileWriter.close(CompoundFileWriter.java:184)
> 	at org.apache.lucene.index.SegmentMerger.createCompoundFile(SegmentMerger.java:204)
> 	at org.apache.lucene.index.IndexWriter.mergeMiddle(IndexWriter.java:4263)
> 	at org.apache.lucene.index.IndexWriter.merge(IndexWriter.java:3884)
> 	at org.apache.lucene.index.ConcurrentMergeScheduler.doMerge(ConcurrentMergeScheduler.java:205)
> 	at org.apache.lucene.index.ConcurrentMergeScheduler$MergeThread.run(ConcurrentMergeScheduler.java:260)
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


