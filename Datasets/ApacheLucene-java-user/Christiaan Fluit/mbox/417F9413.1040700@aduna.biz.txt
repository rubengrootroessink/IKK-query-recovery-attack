FROM: Christiaan Fluit <christiaan.fl...@aduna.biz>
SUBJECT: Re: Backup strategies
DATE: 27 Oct 2004

Christoph Kiehl wrote:
> I'm curious about your strategy to backup indexes based on FSDirectory. 
> If I do a file based copy I suspect I will get corrupted data because of 
> concurrent write access.
> My current favorite is to create an empty index and use 
> IndexWriter.addIndexes() to copy the current index state. But I'm not 
> sure about the performance of this solution.

I have no practical experience with backing up an online index, but I 
would try to find out the details of the write lock mechanism used by 
Lucene at the file level. You can then create a backup component that 
write-locks the index and does a regular file copy of the index dir. 
During backup time searches can continue while updates will be 
temporarily blocked.

But as I said, I'm only speculating...


Chris
--


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


