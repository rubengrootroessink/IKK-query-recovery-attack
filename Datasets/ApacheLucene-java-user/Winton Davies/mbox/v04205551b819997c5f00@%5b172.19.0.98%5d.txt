FROM: Winton Davies <wdav...@overture.com>
SUBJECT: RE: RAMdirectory from Directory ?
DATE: 15 Nov 2001

Hi Doug,
 
  Thanks! FYI -- I think I may have come up with a delicious 
work-around -- that has a
bunch of nice properties:

  Make an FS index, tar it up and then untar onto /tmp :)

  Works a treat when you have 4GB and you are the only user :)

  The really nice property is that you can now stop and start the search
engine without having a huge delay (maybe 20 minutes) while it loads up
the Index (in my case 1gb).

I got a speed up of around 100x or so - but some queries are still
killing my performance metrics. I'm trying to figure out what they are.

Any idea whether you think a RAMdir would be faster than the /tmpfs ?
I am not familiar with how the comparative disk/io operations would work
compared with what is set up inside a RAMdir

  Winton


>> From: Winton Davies [mailto:wdavies@overture.com]
>>
>> It loaded into memory, but then when I tried a search I got
>> this stack trace:
>>
>> java.lang.ArrayIndexOutOfBoundsException
>>          at java.lang.System.arraycopy(Native Method)
>>          at
>> org.apache.lucene.store.RAMInputStream.readInternal(Unknown Source)
>
>What version of Lucene are you using?  There was a bug in the last release
>of RAMDirectory that is fixed in the nightly builds.  If that does not solve
>your problem, please submit a self-contained test case that reproduces it.
>
>Doug
>
>--
>To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
>For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


Winton Davies
Lead Engineer, Overture (NSDQ: OVER)
1820 Gateway Drive, Suite 360
San Mateo, CA 94404
work: (650) 403-2259
cell: (650) 867-1598
http://www.overture.com/

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


