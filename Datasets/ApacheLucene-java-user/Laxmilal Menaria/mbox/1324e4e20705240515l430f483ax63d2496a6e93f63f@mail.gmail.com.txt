FROM: "Laxmilal Menaria" <lmena...@chambal.com>
SUBJECT: Re: Lock obtain timed exception
DATE: 24 May 2007

yes, I am getting the JVM crash exception in logs.

#
# An unexpected error has been detected by Java Runtime Environment:
#
# java.lang.OutOfMemoryError: requested 32756 bytes for ChunkPool::allocate.
Out of swap space?
#
#  Internal Error (414C4C4F434154494F4E0E4350500065), pid=25596, tid=90152
#
# Java VM: Java HotSpot(TM) Client VM (1.6.0_01-b06 mixed mode, sharing)
# If you would like to submit a bug report, please visit:
#   http://java.sun.com/webapps/bugreport/crash.jsp
#


On 5/24/07, Michael McCandless <lucene@mikemccandless.com> wrote:
>
>
> "Laxmilal Menaria" <lmenaria@chambal.com> wrote:
>
> > > I am getting Lock obtain timed exception while Searching in Index.
> > >
> > > My Steps: I have created a Lucene Index at first week of may 2007,
> after
> > > that I have nothing changed in index folder. Just I am searching.
> Searcher
> > > code have only MultiSearcher. BUT now I am getting "Lock obtain timed
> out
> > > exception", I saw in temp folder there was one lock file exists "
> > > lucene-22e0ad3c019e26a6e2991b0e6ed97e1c-commit.lock<
> exists@MinalyzerLite.MDS%5Clucene-
> 22e0ad3c019e26a6e2991b0e6ed97e1c-commit.lock>
> > > "
> > >
> > > Is MultiSearcher created lock file? or any other issue ?
> > >
> > > Please suggest me..
> > >
> > > I am using Lucene 2.0.
>
> Indeed, searchers do create the "commit" lock, but normally the commit
> lock lifetime is very brief.  Most likely this leftover lock file
> means that the JVM crashed or maybe there was an exception while a
> searcher was initializing itself.  Is there any evidence that one of
> these happened?
>
> You should just remove that lock file an re-run things.  If it keeps
> getting stuck then it would be good to get to the root cause.
>
> Note that as of 2.1, Lucene no longer uses a commit lock at all.  This
> makes searchers entirely read-only and prevents your issue from
> occurring.  The write lock (created by IndexWriter) still remains but
> is now stored by default in the index dir instead of the system's temp
> dir.
>
> Mike
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


-- 
Thanks,
Laxmilal menaria

http://www.minalyzer.com/
http://www.chambal.com/

