FROM: Ian Lea <ian....@gmail.com>
SUBJECT: Re: IndexSearch very slow after reopening the index
DATE: 15 Oct 2010

I'm a bit confused about what exactly you are timing.  Is the 46 ms
for one search on one term with one hit, or for 100 similar searches
or what?

Perhaps a minimal self-contained search program demonstrating exactly
what you are doing would help, with evidence of where it is spending
time.


--
Ian.


On Thu, Oct 14, 2010 at 2:31 PM, subwayne <labrassbandito@googlemail.com> wrote:
>
> Ok, I read the Wiki page related to improving the searching speed and adopted
> some advices. One of the slow queries is simply. Here are some:
>
> plaintext:guid
> 107.0 ms
> resultSet.totalHits = 1
>
> plaintext:allianc
> 51.0 ms
> resultSet.totalHists = 1
>
> plaintext:engin
> 46.0 ms
> resultSet.totalHits = 1
>
> plaintext:servicetec
> 46.0 ms
> resultSet.totalHits = 1
>
> .. and so on. I pose about one hundred queries for each category. Therefore,
> I retrieve a list of documents of a category by utilizing a QueryFilter:
>
> Term luceneTerm = new Term("plaintext", stemmer.process(candidate));
> TermQuery termQuery = new TermQuery(luceneTerm);
> Filter qf = new CachingWrapperFilter(new QueryWrapperFilter(termQuery));
>
> TopDocs resultSet = searcher.search(lTerm, qf, Integer.MAX_VALUE);
>
> Each subsequent query is "only" 46 ms instead of 107 ms. However, I think it
> is very slow. Note that these values are taken while the Lucene index is in
> the RAM (RAMDirectory). It makes no difference in time if I am using the
> RAMDirectory or NFIOSDirectory.
>
> Thanks for further advices.
>
> --
> View this message in context: http://lucene.472066.n3.nabble.com/IndexSearch-very-slow-after-reopening-the-index-tp1699711p1701013.html
> Sent from the Lucene - Java Users mailing list archive at Nabble.com.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


