FROM: Alex <chy101...@hotmail.com>
SUBJECT: RE: slow FieldCacheImpl.createValue
DATE: 20 May 2008

Hi,
thanks for the reply. Yes, after the first slow search, subsequent searches have good performance.

I guess the issue is why exactally, is createValue taking so long, or should it take so long
(4 ~ 5 minutes ).
Given roughly 27million terms, each of roughly 8 characters long and few other bytes for the
TermInfo record,
a modern disk can easily read over the portion of the index (the .frq portion ) in a few seconds.
Also,
when I use tools like dstat, I see bunch of 1kb reads initiated while running createValue.





> Date: Tue, 20 May 2008 11:02:38 +0530
> From: anshumg@gmail.com
> To: java-user@lucene.apache.org
> Subject: Re: slow FieldCacheImpl.createValue
> 
> Hey Alex,
> I guess you haven't tried warming up the engine before putting it to use.
> Though one of the simpler implementation, you could try warming up the
> engine first by sending a few searches and then put it to use (put it into
> the serving machine loop). You could also do a little bit of preprocessing
> while initializing the daemon rather than waiting for the search to hit it.
> I hope I understood the problem correctly here, else would have to look into
> it.
> 
> --
> Anshum


_________________________________________________________________
用部落格分享照片、影音、趣味小工具和最愛清單，盡情秀出你自己
— Windows Live Spaces
http://spaces.live.com/
