FROM: ac <chy101...@gmail.com>
SUBJECT: CustomScoreQuery numerical precision problem
DATE: 19 May 2009

hello,
I am using CustomScoreQuery for result ranking.
A field of my documents is parsable as an integer value, the magnide
of which exceeds the precision of the float type.
A sample value of this field is 24118569

However, due to the nature of CustomScoreQuery, a cast from int to
float is performed during the scoring( in the class
IntFieldSource), this cause the number from the example to become
24118568 (off by 1) (on a Pentium D 3.2GHz, 32bit OpenSuse 10.3, JDK
1.6.0_13)
This is problematic, because this value is then used as the key to
perform a database query.

I think I can get that cache from IntFieldSource or make my own, then
just lookup that array during customScore().

Any other suggestions ?


thanks!

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


