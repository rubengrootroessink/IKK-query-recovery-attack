FROM: Steve Rajavuori <Ste...@opin.com>
SUBJECT: Files getting deleted when optimize is killed?
DATE: 11 Jul 2003

I've had a problem on several occasions where my entire index is deleted --
that is, EVERY file (except 'segments') is gone. There were many users on
the system each time, so its a little hard to tell for sure what was going
on, but my theory is this:

My code will automatically call optimize( ) periodically. Because the index
is very large, it can take a long time. It looks like an administrator may
have killed my process, and its possible that it was killed while an
optimize( ) was in progress.

I have two questions:

1) Does anyone know if killing an optimize( ) in progress could wipe out all
files like this? (New index created in temporary files that were not saved
properly, while old index files were already deleted???)

2) Does anyone know of any other way all files in an index could be
inadvertently deleted (e.g. through killing a process)? For example, if you
kill the process during an 'add' would that cause all files to be deleted?

Steve Rajavuori

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


