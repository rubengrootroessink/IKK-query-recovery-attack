FROM: Jim Lynch <...@sgi.com>
SUBJECT: How do I delete?
DATE: 1 Feb 2005

I've been merrily cooking along, thinking I was replacing documents when 
I haven't.  My logic is to go through a batch of documents, get a field 
called "reference" which is unique build a term from it and delete it 
via the reader.delete() method.  Then I close the reader and open a 
writer and reprocess the batch indexing all. 

Here is the delete and associated code:

              reader = IndexReader.open(database);

              Term t = new Term("reference",reference);
              try {
                reader.delete(t);
              } catch (Exception e) {
                System.out.println("Delete exception;"+e);
              }

except it isn't working.  I tried to do a commt and a doCommit, but 
those are both protected.  I do a reader.close() after processing the 
batch the first time. 

What am I missing?  I don't get an exception.  Reference is definitely a 
valid field, 'cause I print out the value at search time and compare to 
the doc and they are identical.

Thanks,
Jim.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


