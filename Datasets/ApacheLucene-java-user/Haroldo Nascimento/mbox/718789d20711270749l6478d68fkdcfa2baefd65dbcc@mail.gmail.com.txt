FROM: "Haroldo Nascimento" <haroldo.ara...@gmail.com>
SUBJECT: Re: Score: Randomize form
DATE: 27 Nov 2007

Its works. The solution is the implementation of SortComparatorSource
interface.

 Thanks Chris,


On Nov 26, 2007 10:17 PM, Chris Hostetter <hossman_lucene@fucit.org> wrote:

>
> : I think you have a couple of problems here. First, you'll have to
> : normalize the scores to get *any* of them to be the same. Since
> : the scores are a float, very few of them will be exactly the same.
>
> it's not as rare as it seems, with lengthNorm byte encoding and low tf
> values it can happen quite a bit -- with a custom Siilarity you can *make*
> it happen a lot.
>
> : >  I show the results of searches as two criterios of sorting
> ("priority"
> : > and
> : > to after "score") of each document.
> : >  I need present the result with same score of ramdomize form.
>
> based on the example you gave, it sounds like you don't really want to
> sort on score at all ... you just want a randomized sort after sorting on
> the priority field.
>
> Solr has a "RandomSortField" which contains a "RandomSort" class that
> don't think has any deep Solr dependencies ... it works by using the
> "field name" arg as a seed for randomizing the order of results, so you
> can iterate/paginate over a consistent "random" ordering as long as you
> keep
> resuing hte same name ... pick a differnet name everytime (use a counter,
> or a random number) and you'll get a different order.
>
> you could use that as a secondary sort after your priority field (or a
> tertiary sort after score)
>
>
> -Hoss
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

