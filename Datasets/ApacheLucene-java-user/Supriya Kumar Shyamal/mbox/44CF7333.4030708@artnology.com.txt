FROM: Supriya Kumar Shyamal <supriya.shya...@artnology.com>
SUBJECT: Re: FileNotFoundException
DATE: 1 Aug 2006

Yes, I use the nfs mount to share the index for other search instance 
and all the instances have same lock directory configured, but the only 
the difference is that nfs mount is read-only mount, so I have to 
disable the lock mechanism for search instances, only lock is enabled 
for index modification instance. We have 6 jboss cluster for our 
application. so 5 instances of jboss search on the same index and the 
6th instance used for index update.

supriya

Michael McCandless wrote:
>
>> I think its a directory access synchronisation problem, I have also 
>> posted about this before. The scenario can be like this ..
>>
>> When Indexwriter object is created it reads the segment information 
>> from the file "segments" which nothing but list of files with .cfs or 
>> mayn more type, at teh same time IndexSearcher object is created 
>> which also make a list of index files from segements file, then you 
>> invoke the some write operation which triggers the index pemrging, 
>> fragmenting etc started haoppening and it modifies the file list in 
>> the segments file, but still we have the IndexerSearcher object with 
>> old file list and probably that throws the FileNotFoundExcpetion 
>> becuase physically the file is not there.
>>
>> May be I am wrong but I try to put some light on this issue.
>>
>> I posted the similar problem with subject "FileNotFoundException: 
>> occurs during the optimization of index", I am also experiencing the 
>> similar problem when the index optimization task runs on the index 
>> and parallally search function is also running.
>
> Lucene has file-based locking for exactly this reason.  Can you 
> double-check that the same lockDir is being used in both your 
> IndexModifier process and your searching process?
>
> Also: this directory can't be an NFS mount -- there are known problems 
> with the current Lucene locking implementation and NFS file systems. 
> Are you using NFS?
>
> Mike
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>


-- 
Mit freundlichen Grüßen / Regards
 
Supriya Kumar Shyamal

Software Developer
tel +49 (30) 443 50 99 -22
fax +49 (30) 443 50 99 -99
email supriya.shyamal@artnology.com
___________________________
artnology GmbH
Milastr. 4
10437 Berlin
___________________________

http://www.artnology.com
__________________________________________________________________________

 News / Aktuelle Projekte:
 * artnology gewinnt Ausschreibung des Bundesministeriums des Innern:
   Softwarelösung für die Verwaltung der Sammlung zeitgenössischer
   Kunstwerke zur kulturellen Repräsentation des Bundes.

 Projektreferenzen:
 * Globaler eShop und Corporate-Site für Springer: www.springeronline.com
 * E-Detailing-Portal für Novartis: www.interaktiv.novartis.de
 * Service-Center-Plattform für Biogen: www.ms-life.de
 * eCRM-System für Grünenthal: www.gruenenthal.com

___________________________________________________________________________ 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


