FROM: Todd Benge <todd.be...@gmail.com>
SUBJECT: FieldCache Question
DATE: 4 Feb 2009

Hi,

I've been looking into the FieldCache API because of memory problems
we've been seeing in our production environment.

We use various different sorts so over time the cache builds up and
servers stop responding.

I decided to apply the patch for JIRA 831:

https://issues.apache.org/jira/browse/LUCENE-831

so that I can switch out the caching to an LRU based cache.

One thing I noticed in the code is that there is an array cache built
per IndexReader.  I'm wondering what the consequences would be if the
arrays were merged for all IndexReaders.  That would result in single
cached array for Strings, Floats, Ints, etc.

It looks like the arrays are used by the various comparators during
the sort but wasn't exactly sure so thought I'd ask what would happen
if I combined the arrays.

Thanks,

Todd

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


