FROM: "Ganesh" <emailg...@yahoo.co.in>
SUBJECT: Re: IndexReader delete
DATE: 18 Dec 2008

I am planning to keep indexing and searching in a single process and expose 
the search functionality as a service.
In any case, i want the deletion to be done by reader, so that it could be 
reflected immediately in search. If it is done by writer, then i need to 
commit the changes, reopen the searcher, do warmup and perform the search 
operation. This will delay the search process.

When user deletes a record from the web ui, the record should get deleted 
and the page should get reflected immediately. I want to delete the record 
by reader and not by writer.

Regards
Ganesh


----- Original Message ----- 
From: "Ian Lea" <ian.lea@gmail.com>
To: <java-user@lucene.apache.org>
Sent: Thursday, December 18, 2008 3:33 PM
Subject: Re: IndexReader delete


> Well, if the indexing is happening in a separate process then that
> will have locked the index and you won't be able to delete by reader
> in your search process.  I'd suggest passing the deletions to the
> indexer process.  In my experience everything works smoother when all
> index modifications happen in one process.
>
>
> --
> Ian.
>
>
> On Wed, Dec 17, 2008 at 10:58 AM, Ganesh <emailgane@yahoo.co.in> wrote:
>> When i perform a delete, i am getting the following exception
>>
>> org.apache.lucene.store.LockObtainFailedException: Lock obtain timed out:
>> SimpleFSLock@/<path>
>>        org.apache.lucene.store.Lock.obtain(Lock.java:85)
>>
>> 
>> org.apache.lucene.index.DirectoryIndexReader.acquireWriteLock(DirectoryIndexReader.java:303)
>>
>>  org.apache.lucene.index.IndexReader.deleteDocument(IndexReader.java:837)
>>
>> Indexing is done by separate process and search is performed from web ui. 
>> If
>> the DB is locked by indexing app then the records will not be deleted 
>> using
>> reader?
>>
>> I want the deletion to be performed by Reader, so that it will get 
>> reflected
>> in the results immediately.
>>
>> Regards
>> Ganesh
>>
>>
>> Send instant messages to your online friends 
>> http://in.messenger.yahoo.com
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 

Send instant messages to your online friends http://in.messenger.yahoo.com 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


