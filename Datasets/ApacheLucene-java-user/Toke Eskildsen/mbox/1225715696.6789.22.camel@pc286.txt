FROM: Toke Eskildsen ...@statsbiblioteket.dk>
SUBJECT: Re: Performance of never optimizing
DATE: 3 Nov 2008

On Mon, 2008-11-03 at 04:42 +0100, Justus Pendleton wrote:
> 1. Why does the merge factor of 4 appear to be faster than the merge
> factor of 2?

Because you alternate between updating the index and searching? With 4
segments, chances are that most of the segment-data will be unchanged
between searches, meaning that part of it will be in the disk-cache.

This is tied to question #4.

> 2. Why does non-optimized searching appear to be faster than optimized
> searching once the index hits ~500,000 documents?

Same reason as above?

> 4. Searching performance appears to decrease towards a fairly
> pessimistic 20 searches per second (for a relatively simple search).
> Is this really what we should expect long-term from Lucene?

Quick guess: You do not perform a proper warm up before measuring.

> 5. Does my benchmark even make sense? I am far from an expert on
> benchmarking so it is possible I'm not measuring what I think I am
> measuring.

You need to provide more details. Maybe a bit of pseudo-code (or real
code, if it's not too big) would help.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


