FROM: "Mike Klaas" <mike.kl...@gmail.com>
SUBJECT: Re: Putting some constraints on index optimization
DATE: 27 Oct 2006

On 10/27/06, Stanislav Jordanov <stenly@sirma.bg> wrote:
> Have the following problem with (explicitly invoked) index optimization -
> it seems to always merge all existing index segments into a single huge
> segment, which is undesirable in my case.
> Is there a way to force index optimization to honor the
> IndexWriter.MAX_MERGE_DOCS setting?

It is unclear to me what you hope to accomplish by optimizing in this
case.  If you set MAX_MERGE_DOCS, lucene will produce a series of
segments of (approximately) that size, plus a bounded (log n) number
of additional segments, the sum of the size of which is <
MAX_MERGE_DOCS.  So at best you'd achieve one more segment merged.  I
doubt optimizing would buy you much, especially as num docs >>
MAX_MERGE_DOCS

-Mike

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


