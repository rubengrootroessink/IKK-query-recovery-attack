FROM: "Julien Nioche" <Julien.Nio...@lingway.com>
SUBJECT: Re: Optimizing for long queries?
DATE: 29 Jun 2004

I ran some tests changing TermInfosWriter.INDEX_INTERVAL to 16.
On my application (which does a lot on top of lucene - including SQL
transactions and so on) I won 10% percent time.
I suppose this could be a bigger improvements in other applications, because
the search with Lucene is not 100% of my application.

The index used for this test is 720 MB - FSDirectory on Fedora 1
the .tii file is 3398 Kb in the modified version against 488Kb in the
original (INDEX_INTERVAL=128)

Has anyone tried changing this value? Do you get similar results?

Julien

----- Original Message ----- 
From: "Julien Nioche" <Julien.Nioche@lingway.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Monday, June 28, 2004 10:04 AM
Subject: Re: Optimizing for long queries?


> Hello Drew,
>
> I don't think it's in the FAQ.
>
> 1 - What you could do is to sort your query terms by ascending alphabetic
> order. In my case it improved a little bit the performance. It could be
> interesting to know how it worked in your case.
>
> 2- Another solution is to play with TermInfosWriter.INDEX_INTERVAL at
> indexation time. I quote Doug :
>
> "..., try reducing TermInfosWriter.INDEX_INTERVAL.  You'll
> have to re-create your indexes each time you change this constant.  You
> might try a value like 16.  This would keep the number of terms in
> memory from being too huge (1 of 16 terms), but would reduce the average
> number scanned from 64 to 8, which would be substantial.  Tell me how
> this works.  If it makes a big difference, then perhaps we should make
> this parameter more easily changeable."
>
> Have you used a profiler on your application? This could be useful to spot
> possible improvments.
>
>
> ----- Original Message ----- 
> From: "Drew Farris" <drew.farris@gmail.com>
> To: <lucene-user@jakarta.apache.org>
> Sent: Friday, June 25, 2004 8:24 PM
> Subject: Optimizing for long queries?
>
>
> > Apologies if this is a FAQ, but I didn't have much luck searching the
> > list archives for answers on this subject:
> >
> > I'm using Lucene in a context where we have frequently have queries
> > that search for as many as 30-50 terms in a single field. Does anyone
> > have any thoughts concerning ways optimize Lucene for queries of these
> > lengths?
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


