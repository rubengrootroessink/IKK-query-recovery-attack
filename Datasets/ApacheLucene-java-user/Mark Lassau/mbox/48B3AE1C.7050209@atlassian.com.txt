FROM: Mark Lassau <mlas...@atlassian.com>
SUBJECT: Upgrading from v2.2.0 to v2.3.2
DATE: 26 Aug 2008

I am a developer on the JIRA Issue tracker, and we are considering 
upgrading our Lucene version from v2.2.0 to v2.3.2.
I have been charged with doing the risk analysis, and project work.

I have read the change lists, and the bugs reported on the Lucene Issue 
Tracker (JIRA of course ;), and some of the archived messages on the 
Lucene lists.
 From this I would conclude that Lucene v2.3.2 has many performance 
improvements as well as some other compelling enhancements and bug fixes.
However there also appear to be a number of issues introduced in v2.3.x, 
not all of which are fixed in v2.3.2
These include:
* LUCENE-1335  Correctly handle concurrent calls to addIndexes, 
optimize, commit
I assume that if the application code doesn't make concurrent calls to 
Lucene objects, or synchronises correctly then this will be OK.
* LUCENE-1175 occasional MergeException while indexing
(can occur under load)
This bug seems to be RAMDirectory-specific, and it is not clear whether 
it was released or not.
Can anyone confirm this?
* There seem to have been some issues with using autoCommit(false).
Are these all fixed in v2.3.2?
Would it be recommended to use autoCommit(true) to be extra safe?

In addition is the following trap for young players:
* LUCENE-1282 Sun hotspot compiler bug in 1.6.0_04/05 affects Lucene
This is a bug in Sun JDK 6. Fixed in JDK 6 Update 10 (b28).
The application developer needs to take steps to ensure that a broken 
Sun JDK 6 is not used.

I would really appreciate any comments on the overall stability of 
v2.3.2 compared to v2.2.0, as well as any pointers about any pitfalls to 
look out for on upgrade.
For instance, although the message signatures of the API may be 
backwardly compatible, it could be that some behaviour has changed in a 
significant way.

Thanks for your time,
Mark Lassau.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


