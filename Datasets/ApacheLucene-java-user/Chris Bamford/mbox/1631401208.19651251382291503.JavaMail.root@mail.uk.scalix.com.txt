FROM: Chris Bamford <Chris.Bamf...@scalix.com>
SUBJECT: New "Stream closed" exception with Java 6
DATE: 27 Aug 2009

Hi, 

Since moving our app to Java 6 and Tomcat 6, we have started getting occasional exceptions
of the form:

java.io.IOException: Stream closed
    at sun.nio.cs.StreamDecoder.ensureOpen(Unknown Source)
    at sun.nio.cs.StreamDecoder.read(Unknown Source)
    at java.io.InputStreamReader.read(Unknown Source)
    at org.apache.lucene.analysis.standard.StandardTokenizerImpl.zzRefill(StandardTokenizerImpl.java:443)
    at org.apache.lucene.analysis.standard.StandardTokenizerImpl.getNextToken(StandardTokenizerImpl.java:629)
    at org.apache.lucene.analysis.standard.StandardTokenizer.next(StandardTokenizer.java:140)
    at org.apache.lucene.analysis.standard.StandardFilter.next(StandardFilter.java:43)
    at org.apache.lucene.analysis.LowerCaseFilter.next(LowerCaseFilter.java:34)
    at org.apache.lucene.analysis.snowball.SnowballFilter.next(SnowballFilter.java:64)
    at org.apache.lucene.index.DocInverterPerField.processFields(DocInverterPerField.java:134)
    at org.apache.lucene.index.DocFieldConsumersPerField.processFields(DocFieldConsumersPerField.java:36)
    at org.apache.lucene.index.DocFieldProcessorPerThread.processDocument(DocFieldProcessorPerThread.java:234)
    at org.apache.lucene.index.DocumentsWriter.updateDocument(DocumentsWriter.java:765)
    at org.apache.lucene.index.DocumentsWriter.addDocument(DocumentsWriter.java:743)
    at org.apache.lucene.index.IndexWriter.addDocument(IndexWriter.java:1902)
    at org.apache.lucene.index.IndexWriter.addDocument(IndexWriter.java:1880)
    at com.scalix.index.manager.BatchUpdater.performContentAdds(BatchUpdater.java:386)
    at com.scalix.index.manager.BatchUpdater.processMods(BatchUpdater.java:176)
    at com.scalix.index.manager.QueueManager.processQueue(QueueManager.java:134)
    at com.scalix.index.manager.QueueManager.run(QueueManager.java:81)
    at java.lang.Thread.run(Unknown Source)

We are using Lucene 2.4.  Any ideas what is happening?

Thanks!

- Chris

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


