FROM: "Luke Shannon" <lshan...@futurebrand.com>
SUBJECT: Negative Match
DATE: 10 Feb 2005

I think I found a pretty good way to do a negative match.

In this query I am looking for all the Documents that have a kcfileupload
field with any value except for jpg.

        Query negativeMatch = new WildcardQuery(new Term("kcfileupload",
"*jpg*"));
         BooleanQuery typeNegAll = new BooleanQuery();
        Query allResults = new WildcardQuery(new Term("kcfileupload", "*"));
        IndexSearcher searcher = new IndexSearcher(fsDir);
        BooleanClause clause = new BooleanClause(negativeMatch, false,
true);
        typeNegAll.add(allResults, true, false);
        typeNegAll.add(clause);
        Hits hits = searcher.search(typeNegAll);

With the little testing I have done this *seems* to work. Does anyone see a
problem with this approach?

Thanks,

Luke



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


