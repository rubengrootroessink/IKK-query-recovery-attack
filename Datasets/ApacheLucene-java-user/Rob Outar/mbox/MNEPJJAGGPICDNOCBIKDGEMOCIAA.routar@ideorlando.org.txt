FROM: "Rob Outar" <rou...@ideorlando.org>
SUBJECT: IndexReader In a MultiThreaded Env
DATE: 16 Apr 2003

Hi all,

	I think I tracked down what was a nasty bug.  I have 2 threads, my program
works in the following way, the first time a user tries to access the index,
if an index does not exists then one is built, otherwise if one is there it
simply uses it.

	Thread 1 comes along and he tries to query, no index exists
(ndexReader.indexExists(File directory) method) so one is now being built.

	Thread 2 comes along he checks if an index exists via the
IndexReader.indexExists(File directory) method <-- it returns true since all
the method does is File.exists().  Since thread one caused an index to be
built Thread 2 thinks that it is a usable index and tries to run queries and
modify the index -- all of which fail because the index is still being
built.

	Is there any method that checks more than if the index directory simply
exists?  Is there way to make sure the index is valid before using it?

	Let me know.

Rob


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


