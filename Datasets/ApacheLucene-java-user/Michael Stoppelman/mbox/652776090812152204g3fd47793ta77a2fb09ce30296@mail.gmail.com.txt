FROM: "Michael Stoppelman" <stop...@gmail.com>
SUBJECT: replication question
DATE: 16 Dec 2008

I've got a question from Doug's original email about replication (
http://www.mail-archive.com/lucene-user@jakarta.apache.org/msg12709.html):

"1. On the index master, periodically checkpoint the index. Every minute or
so the IndexWriter is closed and a 'cp -lr index index.DATE' command is
executed from Java, where DATE is the current date and time. This
efficiently makes a copy of the index when its in a consistent state by
constructing a tree of hard links. If Lucene re-writes any files (e.g., the
segments file) a new inode is created and the copy is unchanged."

Is closing the IndexWriter really a requirement on taking a snapshot? Or can
one take a snapshot on an index being written, I've done this in my
development environment and it seems to work fine w/o closing the
IndexWriter. Also the solr replication shell scripts don't seem to worry
about this either.

M

