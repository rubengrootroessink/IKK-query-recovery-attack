FROM: Kay Kay <kaykay.uni...@gmail.com>
SUBJECT: Concurrent IndexReader and IndexSearcher behavior
DATE: 30 Jan 2009

Assume I have an index of size 20G and a main memory of 1G.
I do the following steps in order.

* Open an IndexSearcher on the directory.
* Serve Searches from that directory

Meanwhile (when the IndexSearcher isstill  open on the directory) - the 
following operations are performed concurrently.
* Open an IndexReader on the same directory
* invoke delete on the same ( which I believe, internally should 'touch' 
some records in segments and mark them as deleted. The 'touch'ed records 
across segments are removed when the index is 'optimize'd. At this point 
, though the index is not 'optimize'd but just 'commit'ted ).

When the IndexReader is performing a delete operation on a data 
directory , how would it affect the IndexSearcher that possibly might be 
trying to return search results for a given input query. Would it be 
possible for the searcher to crash , when the searcher and reader are 
accessing the same set of resources (it seems logically correct for the 
searcher to crash though).



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


