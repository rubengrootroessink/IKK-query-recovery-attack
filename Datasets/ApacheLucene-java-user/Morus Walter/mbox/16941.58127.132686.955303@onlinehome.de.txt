FROM: Morus Walter <morus.wal...@gmx.de>
SUBJECT: Re: QueryParser refactoring
DATE: 8 Mar 2005

Erik Hatcher writes:
> >> I think  you must have tried this in a transient state when I forgot 
> >> to
> >> check in some JavaCC generated files.  Try again.  This one now 
> >> returns
> >> an empty BooleanQuery.
> >>
> > ok.
> > I'm a bit puzzled, since I called javacc myself, so generated files 
> > should
> > not matter, but if it's fixed, I don't care about what went wrong.
> 
> Let me know if there is still an issue, though I added this exact case 
> to TestPrecedenceQueryParser and its currently working for me.
> 
Actually it turns out to be my fault.
I serialized the result and reparsed it to see if it is reproduced, and
it's that second parse of an empty string that throws the exception.
Sorry for the false error report.

That reminds me of a remark Doug made in the discussion of bug
25820 (http://issues.apache.org/bugzilla/show_bug.cgi?id=25820#c7),
that it would be useful if an empty query string parses to an empty
query. So probably a check for that should be added if the query string
is empty.

Morus



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


