FROM: Morus Walter <morus.wal...@tanto.de>
SUBJECT: Re: Disk space used by optimize
DATE: 7 Feb 2005

Bernhard Messer writes:
> 
> >However, three times the space sounds a bit too much, or I make a
> >mistake in the book. :)
> >  
> >
> there already was  a discussion about disk usage during index optimize. 
> Please have a look to the developers list at: 
> http://mail-archives.apache.org/eyebrowse/ReadMsg?listName=lucene-dev@jakarta.apache.org&msgId=1797569

> <http://mail-archives.apache.org/eyebrowse/ReadMsg?listName=lucene-dev@jakarta.apache.org&msgId=1797569>
> where i made some measurements about the disk usage within lucene.
> At that time i proposed a patch which was reducing disk total used disk 
> size from 3 times to a little more than 2 times of the final index size. 
> Together with Christoph we implemented some improvements to the 
> optimization patch and finally commit the changes.
> 
Hmm. In the case that the index is used (open reader), I doubt your patch 
makes a difference. In that case the disk space used by the non optimized 
index will still be used even if the files are deleted (on unix/linux).
What happens, if disk space run's out during creation of the compound index?
Will the non compound files be a usable index?
Otherwise you risk to loose the index.

Morus

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


