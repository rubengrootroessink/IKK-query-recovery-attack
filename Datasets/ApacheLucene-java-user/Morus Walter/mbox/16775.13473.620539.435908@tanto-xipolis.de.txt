FROM: Morus Walter <morus.wal...@tanto.de>
SUBJECT: Re: Locks and Readers and Writers
DATE: 2 Nov 2004

yahootintin.1247688@bloglines.com writes:
> Hi Christoph,
> 
> Thats what I thought.  But what I'm seeing is this:
> - open
> reader for searching
> (the reader is opening an index on a remote machine
> (via UNC) which takes a couple seconds)
> - meanwhile the other service opens
> an IndexWriter and adds a document
> (the index writer determines that it needs
> to merge so it tries to get a lock.  since the reader is still opening, the
> IO exception is thrown)
> 
> I believe that increasing the merge factor will
> reduce the opportunity for this to occur.  But it will still occur at some
> point.
> 
I'm not sure what you mean by `opening an index on a remote machine (via 
UNC)' but have you made sure that lock files are put in the same directory
for both processes (see the mailing list archive for details)?
Also note, that lucene's locking is known not to work on NFS (also see the
list archive). I don't know if it works on SMB mounts.

Morus

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


