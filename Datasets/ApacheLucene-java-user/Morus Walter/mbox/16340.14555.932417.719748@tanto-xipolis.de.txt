FROM: Morus Walter <morus.wal...@tanto-xipolis.de>
SUBJECT: Re: FSDIrectory.create doesn't tolerate subdirectories
DATE: 8 Dec 2003

Erik Hatcher writes:
> On Sunday, December 7, 2003, at 08:21  PM, Esmond Pitt wrote:
> > I'm not clear whether this is a 'yes' or a 'no'.
> 
> I think other committers would need to weigh in on it.  I'm fine with 
> making a change to check isDirectory as well and not deleting them 
> since Lucene (currently) does not work with sub-directories.  But I'm 
> only one vote.
> 
How do you grant, that a subdirectory does not (and will never) have the
same name as a file of the lucene index?
This may be unlikely, but if it happens, it will be a serious problem
if lucene cannot write a file, because there is some directory.

> >  For application reasons I
> > would like to use a directory structure for indexes that mirrors the
> > collection structure of the site, so that there is a master index for 
> > the
> > whole site and subindexes in subdirectories for each virtual site (and 
> > so on
> > recursively while I am building subsubindexes for later consolidation).
> 
You can still have your structure by adding a lucene-index dir at each
node.
So if your site has
/root/foo
/root/foo/bar
the index for documents in /root/foo goes to /indices/foo/lucene-index
and for /root/foo/bar to /indices/foo/bar/lucene-index.
I don't see why this is more complicated.

Morus

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


