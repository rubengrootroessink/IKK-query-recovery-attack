FROM: "José Ramón Pérez Agüera" <jose.agu...@fdi.ucm.es>
SUBJECT: Re: Combining scores
DATE: 21 Nov 2006

i've some code to do that, but it is not really friendly yet :-(

Anyway is quite simple. You need merge the postings that you obtain for the differents queries
using TermDocs. With TermDocs you obtain the internal ids for the docs related to terms. If
you merge the TermDocs for each word that appear in the queries that you want to merge, you
obtain the postings for a set of queries and, therefore you can compute the score for this
set.

i hope to help

jose

José Ramón Pérez Agüera

Visiting Research Scholar at Yahoo! Research Spain.
Ocata 1, 1st floor 08003 Barcelona Catalunya, Spain

Dept. de Ingeniería del Software e Inteligencia Artificial
Despacho 411 tlf. 913947599
Facultad de Informática
Universidad Complutense de Madrid

----- Mensaje original -----
De: Luis Rodrigo Aguado <lrodrigo@isoco.com>
Fecha: Martes, Noviembre 21, 2006 12:39 pm
Asunto: Combining scores
A: java-user@lucene.apache.org

> Hi all,
> 
> I am working in a project that, for each query from the user, 
> builds 
> four or five different queries and tries to combine the results. 
> The 
> first part is already working, but, as I have read that the 
> scores from 
> different queries are not comparable at all among them, I am a 
> bit stuck 
> in the second part. Which could be a good strategy to get a 
> unified 
> score merging the results from different queries over the same 
> index. Is 
> there anything already done on that?
> 
> I have searched through the list, but all I have found is 
> threads like this:
> 
> http://article.gmane.org/gmane.comp.jakarta.lucene.user/10810
> 
> that only warn about the incompatibility of scores, but not any 
> clue 
> about how to solve it.
> 
> Thanks!
> 
> Luis.
> 
> -- 
> 
> *Luis Rodrigo Aguado*
> 
> Innovation and R&D
> 
> Research Manager
> 
> lrodrigo(at)isoco.com
> 
> #T  +34913349777
> 
> C/Pedro de Valdivia, 10
> 
> 28006, Madrid, Spain
> 
> * *
> 
> *iSOCO** *
> 
>             intelligent software for the networked economy
> 
>             www.isoco.com <http://www.isoco.com/>
> 
>  
> 
> Este mensaje se dirige exclusivamente a su destinatario y puede 
> contener 
> información privilegiada o confidencial. Si no es vd. el 
> destinatario 
> indicado, queda notificado de que la utilización, divulgación 
> y/o copia 
> sin autorización está prohibida en virtud de la legislación 
> vigente. Si 
> ha recibido este mensaje por error, le rogamos que nos lo 
> comunique 
> inmediatamente por esta misma vía y proceda a su destrucción.
> 
>  
> 
> This message is intended exclusively for its addressee and may 
> contain 
> information that is CONFIDENTIAL and protected by professional 
> privilege. If you are not the intended recipient you are hereby 
> notified 
> that any dissemination, copy or disclosure of this communication 
> is 
> strictly prohibited by law. If this message has been received in 
> error, 
> please immediately notify us via e-mail and delete it.
> 
> 

José Ramón Pérez Agüera

Visiting Research Scholar at Yahoo! Research Spain.
Ocata 1, 1st floor 08003 Barcelona Catalunya, Spain

Dept. de Ingeniería del Software e Inteligencia Artificial
Despacho 411 tlf. 913947599
Facultad de Informática
Universidad Complutense de Madrid

