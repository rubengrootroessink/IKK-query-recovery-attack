FROM: "Steven A Rowe" <sar...@syr.edu>
SUBJECT: RE: generate-maven-artifacts
DATE: 15 Jan 2008

Hi Sergey,

On 01/15/2008 at 9:57 AM, Sergey Kabashnyuk wrote:
> Hi all.
> I try to build mavan artifacts using from tags/lucene_2_2_0.
> By calling "ant generate-maven-artifacts"
> 
> But BUILD FAILED
> /java/src/lucene/svn/java/tags/lucene_2_2_0/build.xml:366: The following
> error occurred while executing this line:
> /java/src/lucene/svn/java/tags/lucene_2_2_0/common-build.xml:200:
> localRepository doesn't support the "location" attribute

Maven artifact building has changed since then - see:

<http://issues.apache.org/jira/browse/LUCENE-935>

In part, this involved switching from installing to the local repository to deploying to a
remote repository; see this colored diff for the change (starting on line #256):

<http://svn.apache.org/viewvc/lucene/java/trunk/common-build.xml?diff_format=h&view=diff&r1=548013&r2=612140#l255>

A potential workaround: the following Ant Tasks bug seems to indicate that if you change the
name of the "location" attribute to "path" on the <localRepository> tag in the "m2-deploy"
macro in common-build.xml, the task might work:

<http://jira.codehaus.org/browse/MANTTASKS-44>

I.e., try changing the line that reads:

   <localRepository location="${maven.dist.dir}"/>

to:

   <localRepository path="${maven.dist.dir}"/>

Steve
