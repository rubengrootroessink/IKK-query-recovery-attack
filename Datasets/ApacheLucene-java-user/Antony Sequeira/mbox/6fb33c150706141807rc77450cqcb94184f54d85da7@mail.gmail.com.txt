FROM: "Antony Sequeira" <antony.seque...@gmail.com>
SUBJECT: negative queries
DATE: 15 Jun 2007

Hi
I am aware that with Lucene I can not do negative only queries such as
  -foo:bar

But today I ran into an issue where I realized even queries such as
  +foo:bar +(-goobly:doo)
also never return any results.

Basically I get the impression that I can not have a clause like
 +(-x:y)
anywhere in my query.

Is that a correct ?

If this is indeed the case, does anyone have similar issues and how
they get around.

I 'think' supporting such queries would be good when queries are
generated programmatically for whatever reasons (may be from some UI
form)

In the attached test file I am using string queries and showing the
failure case.

In my real app, I build lucene query objects tree using BooleanQuery
componenets where each component is the result of parsing a snippet of
a query, so when I add each snippet as 'MUST' I need to find a way of
handling a  snippet that is all negative.

Writing the above paragraph I am beginning to realize that although my
example shows the problem, it might be a wrong example in terms of me
getting a solution to it :)

Thanks in advance for any feedback and help.
-Antony


