FROM: "Kristian Ottosen" ...@yawah.com>
SUBJECT: Lucene on Linux problem...
DATE: 2 Apr 2005

Hello,

I have really been pulling out hair for a while over this. The problem only
occur using FSDirectory on some Linux system (some Debian, Suse and Redhat -
but not all) and never under Windows, Solaris or Mac OS X. 

What happens is that Lucene for some reason tries to read a segment which
was just merged into another segment and therefore deleted and fails with a
FileNotFoundException.
 
A few facts: Only a single thread is involved. If we use a RAM based Store
(RAMDirectory) there is no problem at all. Also there seems to a problem
related to locking using the lock files. We get timeouts even though there
is only a single thread working on the index. Switching the compound file
format on/off makes no difference. The problem may not appear immediately -
but only after several thousand documents have been indexed in a row using a
combination of IndexSearcher (check for duplicates) and IndexWriter (add
document) operations.

I wonder if there is general problem running Lucene on top of some of the
journaling file systems like ReiserFS or Ext3?

Any help or hints are greatly appreciated. Lucene is an excellent piece of
software.

Best Regards 
Kristian



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


