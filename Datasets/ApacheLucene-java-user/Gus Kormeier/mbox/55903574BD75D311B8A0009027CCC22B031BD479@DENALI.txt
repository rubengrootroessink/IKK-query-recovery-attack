FROM: Gus Kormeier <g...@altrec.com>
SUBJECT: RE: 'Lock obtain timed out' even though NO locks exist...
DATE: 28 Apr 2004

Not sure if our installation is the same or not, but we are also using
Tomcat.
I had a similiar problem last week, it occurred after Tomcat went through a
hard restart and some software errors had the website hammered.

I found the lock file in /usr/local/tomcat/temp/ using locate.
According to the README.txt this is a directory created for the JVM within
Tomcat.  So it is a system temp directory, just inside Tomcat.

Hope that helps,
-Gus

-----Original Message-----
From: Kevin A. Burton [mailto:burton@newsmonster.org]
Sent: Wednesday, April 28, 2004 1:01 PM
To: Lucene Users List
Subject: Re: 'Lock obtain timed out' even though NO locks exist...


James Dunn wrote:

>Which version of lucene are you using?  In 1.2, I
>believe the lock file was located in the index
>directory itself.  In 1.3, it's in your system's tmp
>folder.  
>  
>
Yes... 1.3 and I have a script that removes the locks from both dirs... 
This is only one process so it's just fine to remove them.

>Perhaps it's a permission problem on either one of
>those folders.  Maybe your process doesn't have write
>access to the correct folder and is thus unable to
>create the lock file?  
>  
>
I thought about that too... I have plenty of disk space so that's not an 
issue.  Also did a chmod -R so that should work too.

>You can also pass lucene a system property to increase
>the lock timeout interval, like so:
>
>-Dorg.apache.lucene.commitLockTimeout=60000
>
>or 
>
>-Dorg.apache.lucene.writeLockTimeout=60000
>  
>
I'll give that a try... good idea.

Kevin

-- 

Please reply using PGP.

    http://peerfear.org/pubkey.asc    
    
    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


