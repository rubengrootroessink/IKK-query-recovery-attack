FROM: Jason Rutherglen <jason.rutherg...@gmail.com>
SUBJECT: Re: Verbose logging via ant, get an OOM
DATE: 13 Nov 2009

Thanks Uwe and Mike!

On Thu, Nov 12, 2009 at 11:48 AM, Michael McCandless
<lucene@mikemccandless.com> wrote:
> Or, just run the junit test "directly", which doesn't try to buffer
> the output, so you can see it "live".  Something like this:
>
> java -cp .:/usr/local/src/junit-4.4.jar:./build/classes/test:./build/classes/java:./build/classes/demo
> -Dlucene.version=2.9-dev -DtempDir=build -ea
> org.junit.runner.JUnitCore
> org.apache.lucene.index.TestAddIndexesNoOptimize
>
> Mike
>
> On Thu, Nov 12, 2009 at 2:45 PM, Uwe Schindler <uwe@thetaphi.de> wrote:
>> Raise -Xmx, there is a setting in common-build.xml or buidl.xml
>>
>> -----
>> Uwe Schindler
>> H.-H.-Meier-Allee 63, D-28213 Bremen
>> http://www.thetaphi.de
>> eMail: uwe@thetaphi.de
>>
>>> -----Original Message-----
>>> From: Jason Rutherglen [mailto:jason.rutherglen@gmail.com]
>>> Sent: Thursday, November 12, 2009 8:38 PM
>>> To: java-user@lucene.apache.org
>>> Subject: Verbose logging via ant, get an OOM
>>>
>>> Is there a setting to fix this?
>>>
>>> [junit] Exception in thread "main" java.lang.OutOfMemoryError: Java heap
>>> space
>>>     [junit]   at java.util.Arrays.copyOf(Arrays.java:2882)
>>>     [junit]   at
>>> java.lang.AbstractStringBuilder.expandCapacity(AbstractStringBuilder.java:
>>> 100)
>>>     [junit]   at
>>> java.lang.AbstractStringBuilder.append(AbstractStringBuilder.java:572)
>>>     [junit]   at java.lang.StringBuffer.append(StringBuffer.java:320)
>>>     [junit]   at
>>> org.apache.tools.ant.util.DOMElementWriter.encodedata(DOMElementWriter.jav
>>> a:472)
>>>     [junit]   at
>>> org.apache.tools.ant.util.DOMElementWriter.write(DOMElementWriter.java:229
>>> )
>>>     [junit]   at
>>> org.apache.tools.ant.util.DOMElementWriter.write(DOMElementWriter.java:214
>>> )
>>>     [junit]   at
>>> org.apache.tools.ant.taskdefs.optional.junit.XMLJUnitResultFormatter.endTe
>>> stSuite(XMLJUnitResultFormatter.java:171)
>>>     [junit]   at
>>> org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.fireEndTestSu
>>> ite(JUnitTestRunner.java:619)
>>>     [junit]   at
>>> org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTest
>>> Runner.java:452)
>>>     [junit]   at
>>> org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitT
>>> estRunner.java:911)
>>>     [junit]   at
>>> org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTes
>>> tRunner.java:768)
>>>     [junit] Test org.apache.lucene.index.TestNRTReaderWithThreads
>>> FAILED (crashed)
>>>
>>> ---------------------------------------------------------------------
>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


