FROM: qaz zaq <fortq...@yahoo.com>
SUBJECT: Re: document retrieval 100 times slower after finishing some heavy disk operation
DATE: 28 Jun 2008

thanks for your quick reply!
 
The copy operation is not related to JAVA. I use Windows (2003 Enterprise)  copy command.
The problem persists even 5 hours after the copy is done (it should not take so long for OS
to write a 1G file from system cache to disk. right?).  The only way to resolve this problem
is to restart my application. 
 
BTW, How can I tell if a file is still in system cache vs. in disk?

--- On Sat, 6/28/08, Daniel Naber <lucenelist2007@danielnaber.de> wrote:

From: Daniel Naber <lucenelist2007@danielnaber.de>
Subject: Re: document retrieval 100 times slower after finishing some heavy disk operation
To: java-user@lucene.apache.org
Date: Saturday, June 28, 2008, 7:15 PM

On Sonntag, 29. Juni 2008, qaz zaq wrote:

> indexes which usually take less then 16ms. However, everytime afer some
> heavy disk operations (such as copy 1G size of a file into that disk) ,
> the document retrieval slows down to couple seconds immediately,
> even well after this disk operation being finished for a long time.

Is this copy operation initiated by your java code and does it require a 
lot of RAM? If so, this could be caused by the JVM garbage collection. 
There are options to start the JVM so it prints out garbage collection 
progress information. Also, are you sure the copy operation is finished? 
Maybe data is still in the cache of the operating system and the disk is 
still busy writing it?

Regards
 Daniel

-- 
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


      
