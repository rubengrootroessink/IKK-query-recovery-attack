FROM: "Mufaddal Khumri" <MKhu...@allegromedical.com>
SUBJECT: ArrayIndexOutOfBoundsException being thrown ...
DATE: 22 Feb 2006

Getting an ArrayIndexOutOfBoundsException ...

Line 31 in IndexSearcherManager.java:
...

	public static IndexSearcher getIndexSearcher(String indexPath) 
        {
                logger.debug("indexPath = " + indexPath);
                ....
                .... 
		searcher = new IndexSearcher(indexPath); <---------------- LINE 31
		....
		return searcher;
	}
...
...

I get the following exception:

28628 DEBUG com.allegrocentral.tandoori.managers.search.IndexSearcherManager [21] - indexPath
= /opt/tomcat/webapps/ROOT/WEB-INF/search-index
28666 WARN  org.apache.struts.action.RequestProcessor [516] - Unhandled Exception thrown:
class java.lang.ArrayIndexOutOfBoundsException
28669 ERROR org.apache.catalina.core.ContainerBase.[Catalina].[localhost].[/].[action] [704]
- Servlet.service() for servlet action threw exception
java.lang.ArrayIndexOutOfBoundsException: -1
        at java.util.ArrayList.get(ArrayList.java:323)
        at org.apache.lucene.index.FieldInfos.fieldInfo(FieldInfos.java:155)
        at org.apache.lucene.index.FieldInfos.fieldName(FieldInfos.java:151)
        at org.apache.lucene.index.SegmentTermEnum.readTerm(SegmentTermEnum.java:149)
        at org.apache.lucene.index.SegmentTermEnum.next(SegmentTermEnum.java:115)
        at org.apache.lucene.index.TermInfosReader.readIndex(TermInfosReader.java:86)
        at org.apache.lucene.index.TermInfosReader.<init>(TermInfosReader.java:45)
        at org.apache.lucene.index.SegmentReader.initialize(SegmentReader.java:112)
        at org.apache.lucene.index.SegmentReader.<init>(SegmentReader.java:89)
        at org.apache.lucene.index.IndexReader$1.doBody(IndexReader.java:118)
        at org.apache.lucene.store.Lock$With.run(Lock.java:109)
        at org.apache.lucene.index.IndexReader.open(IndexReader.java:111)
        at org.apache.lucene.index.IndexReader.open(IndexReader.java:95)
        at org.apache.lucene.search.IndexSearcher.<init>(IndexSearcher.java:38)
        at com.allegrocentral.tandoori.managers.search.IndexSearcherManager.getIndexSearcher(IndexSearcherManager.java:31)

Any ideas as to why this might be happening? (Am using lucene-core-1.9-rc1.jar)

-Thanks.

