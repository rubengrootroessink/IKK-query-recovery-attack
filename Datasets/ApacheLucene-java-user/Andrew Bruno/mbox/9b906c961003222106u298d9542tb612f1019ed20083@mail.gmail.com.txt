FROM: Andrew Bruno <andrew.br...@gmail.com>
SUBJECT: Re: Corrupt index? Can I recover it?
DATE: 23 Mar 2010

Also, I am trying to do an optimize, and I am getting

java.lang.IllegalStateException: docs out of order (-82 < 0 )



On Tue, Mar 23, 2010 at 3:04 PM, Andrew Bruno <andrew.bruno@gmail.com> wrote:
> Thanks for this.
>
> Does anyone know how I can do this with version 2.0
>
> http://lucene.apache.org/java/2_0_0/api/index.html
>
> like http://lucene.apache.org/java/2_4_0/api/org/apache/lucene/index/CheckIndex.html
>
>
> On Fri, Mar 19, 2010 at 8:42 PM, Michael McCandless
> <lucene@mikemccandless.com> wrote:
>> It sounds like you should first run CheckIndex to see if there's
>> corruption if both indexes... and then run again with -fix to repair
>> the corruption.
>>
>> That repair simply removes any segments with corruption.
>>
>> So after that you'll have to re-index whatever docs are missing...
>>
>> Mike
>>
>> On Thu, Mar 18, 2010 at 7:45 PM, Andrew Bruno <andrew.bruno@gmail.com> wrote:
>>> Hi all,
>>>
>>> I am using Compass 1.1 with Lucene 2
>>>
>>> Our product offers a 2 lucene sub-indexes per customer, A and B, where
>>> B extends A.
>>> In size, A & B are about 15G, where A =10G
>>>
>>> We had a server failure a few days ago related to corrupt RAM, and
>>> when the server came back up, and services restarted OK (or so it
>>> appears from logs).
>>>
>>> A few days later we have uncovered that index A does not have any
>>> documents indexed prior to server failure, only new documents after
>>> server failure.
>>> Index B is OK.
>>>
>>> Index A has millions of documents indexed against it. Â Is there a way
>>> that I could try and repair it, even offline?
>>>
>>> Thanks
>>> Andrew
>>>
>>> ---------------------------------------------------------------------
>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>
>>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


