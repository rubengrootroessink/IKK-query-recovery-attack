FROM: Leos Literak <liter...@centrum.cz>
SUBJECT: Re: potential synchronization problem
DATE: 30 Apr 2004

Otis Gospodnetic wrote:
> Yes.
> I suggest you devise a 'index request queue' mechanism to handle
> situations like this.  This can probably be made quite generic (i.e.
> not Lucene and not indexing specific).  How you go about implementing
> this is up to.

I handle this with script, which
1\ generates new index to temporary directory
2\ removes directory with old index
3\ renames temporary directory to standard location

unfortunatelly this doesn't garantee atomicity, so
I can find in logs exceptions, when user performed
search in 2\ or 3\ steps. Because step 1\ takes
ten minutes, while 2\ and 3\ several seconds at most,
I am happy with this solution.

Leos


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


