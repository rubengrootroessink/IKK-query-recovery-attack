FROM: Andy33 <clever_o...@yahoo.com>
SUBJECT: Re: Lucene Memory Leak
DATE: 5 Sep 2008


No, I am using FSDirectory. Unfortunately, my indexes are over 2 GB in size
and I don't have a server that has that much free memory just for the
indexes.

If you figure out anything, let me know just in case it helps my case as
well. Thanks.



chrislusf wrote:
> 
> Are you using RAMDirectory?
> 
> I am actually also dealing with a memory leak. My case is only particular
> to
> RAMDirectory.
> 
> http://markmail.org/message/dfgcnnjglne3wynp
> However, this RAMDirectory case is not as simple as setting searcher=null,
> because I found some reference to RAMDirectory is held by some ThreadLocal
> variables.(but I need to reuse thread also).
> 
> Here is the reference tree:
> org.apache.lucene.store.RAMDirectory
>   |- directory of org.apache.lucene.store.RAMFile
>       |- file of org.apache.lucene.store.RAMInputStream
>           |- base of
> org.apache.lucene.index.CompoundFileReader$CSIndexInput
>               |- input of org.apache.lucene.index.SegmentTermEnum
>                   |- value of java.lang.ThreadLocal$ThreadLocalMap$Entry
> 
> 
> I am trying to track it down now. If anyone knows about it, please let me
> know.
> 
> -- 
> Chris Lu
> 
> 
-- 
View this message in context: http://www.nabble.com/Lucene-Memory-Leak-tp19276999p19335403.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


