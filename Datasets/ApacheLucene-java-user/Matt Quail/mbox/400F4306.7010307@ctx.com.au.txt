FROM: Matt Quail <m...@ctx.com.au>
SUBJECT: 1.3-final: now giving me java.io.FileNotFoundException (Too many open files)
DATE: 22 Jan 2004

I'm getting the following stack trace from lucene-1.3-final running on 
JDK 1.4.2_03-b02 on linux

> java.io.FileNotFoundException: /home/matt/blah/idx/_123n.tis (Too many open files)
>         at java.io.RandomAccessFile.open(Native Method)
>         at java.io.RandomAccessFile.<init>(RandomAccessFile.java:204)
>         at org.apache.lucene.store.FSInputStream$Descriptor.<init>(FSDirectory.java:389)
>         at org.apache.lucene.store.FSInputStream.<init>(FSDirectory.java:418)
>         at org.apache.lucene.store.FSDirectory.openFile(FSDirectory.java:291)
>         at org.apache.lucene.index.TermInfosReader.<init>(TermInfosReader.java:79)
>         at org.apache.lucene.index.SegmentReader.<init>(SegmentReader.java:141)
>         at org.apache.lucene.index.IndexWriter.mergeSegments(IndexWriter.java:423)
>         at org.apache.lucene.index.IndexWriter.maybeMergeSegments(IndexWriter.java:401)
>         at org.apache.lucene.index.IndexWriter.addDocument(IndexWriter.java:260)
>         at org.apache.lucene.index.IndexWriter.addDocument(IndexWriter.java:244)
>         at com.foo.Foo.perform(Foo.java:53)

I've only just upgraded to 1.3-final from 1.3-RC2, and now I've started 
seeing this error. I'll try and trace it down further, see if it is me 
leaking file handles, and not Lucene.

Any chance this is a Lucene bug?

=Matt


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


