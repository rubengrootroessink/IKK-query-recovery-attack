FROM: Marvin Humphrey <mar...@rectangular.com>
SUBJECT: Re: MergePolicy public but SegmentInfos package protected?
DATE: 25 Mar 2009

On Wed, Mar 25, 2009 at 06:15:35AM -0400, Michael McCandless wrote:

> I'm torn.  MergePolicy (and MergeScheduler) are "expected" to be
> something expert users could alter; their API is designed to be
> exposed & stable.  I think they should be visilbe in the javadocs.
> 
> But, unfortunately, to do their job they must use other package
> private APIs (SegmentInfos) which we intentionally would like to keep
> more malleable.

Is all the information that you'd need to perform the merge available via
public methods on IndexReader and its descendants?  Does IndexWriter always
have an IndexReader at its disposal yet?  And if the answer to those two
questions is yes, can you refactor MergePolicy to work off of an IndexReader
rather than a SegmentInfos?

Marvin Humphrey


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


