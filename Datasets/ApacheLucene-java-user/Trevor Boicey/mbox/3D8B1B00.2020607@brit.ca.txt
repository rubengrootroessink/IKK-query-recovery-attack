FROM: Trevor Boicey <tboi...@brit.ca>
SUBJECT: Re: has this exception been seen before
DATE: 20 Sep 2002

Trevor Boicey wrote:
> Robert A. Decker wrote:
> 
>> I'm wondering if the following looks familiar to anyone. This comes up at
>> times when calling optimize on an index.
>>
>> com.medicalhost.marvinfoundation.EOIndexManager.editingContextSavedChanges 
>>
>> processUpdated e:java.lang.ArrayIndexOutOfBoundsException
>> : 99 >= 12
>> java.lang.ArrayIndexOutOfBoundsException: 99 >= 12
> 
> 
>   I get that a lot, with varying numbers...
> 
>   Still holding on a solution... :<
> 
>   It seems once it starts getting the above error it'll never optimize 
> again, and the drive slowly fills up. (I think the optimize partially 
> succeeds, but leaves stray files around when it fails, so I end up with 
> an index directory with dozens of very large files)
> 
>   The only solution I have is to delete the index and build it again, 
> but with my app I only have to time that to run over a weekend. :<

   As if on cue, this happened to me this morning, requiring an index 
delete and a rebuild.

   New twist on the problem that has occured this time and the time 
before: when the errors happen enough times, I start getting the good 
old "Too many open files" error. (I think Lucene starts dangling file 
handles)

   So it seems like at a certain point my database is getting corrupted, 
and any attempts to look at my poison database cause the "X>=Y" error. 
Once I get the error enough times, my whole system will run out of open 
files and cease to work, and that seems to mean everything, not just 
Lucene. :< :< :<

   Because of this problem, this issue has suddenly become critical for 
me because it has now taken out my whole server twice. Should this topic 
be brought up on the lucene-developer list?

-- 
Trevor Boicey, P. Eng.
Ottawa, Canada, tboicey@brit.ca
ICQ #17432933 http://www.brit.ca/~tboicey/
"Hey! I asked for Ketchup, I'm eating salad down here!" - Homer


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


