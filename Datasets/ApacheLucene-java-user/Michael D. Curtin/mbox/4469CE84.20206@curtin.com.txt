FROM: "Michael D. Curtin" <m...@curtin.com>
SUBJECT: Re: IndexReader seems loading the full index
DATE: 16 May 2006

Sharad Agarwal wrote:

> I am a newbie in lucene space. and trying to understand lucene search 
> result caching; facing with a wierd issue.
> 
> After creating the IndexReader from a file system directory, I 
> rename/remove the index directory; but still I am able to search the 
> index and able to get the documents from Hits. This is making me beleive 
> that there is some level of index loading in IndexReader itself. Does it 
> load the full index or what all things it loads?

If you're running on Linux, your process has open file descriptors on the 
index files.  So, even though you've rm'd them, they're not really gone as far 
as the kernel is concerned until those file descriptors are closed (the space 
isn't reclaimed until then either).

I don't know if Windows acts the same way.

I'm curious:  Why are you removing the index if your application is still 
using it?

--MDC

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


