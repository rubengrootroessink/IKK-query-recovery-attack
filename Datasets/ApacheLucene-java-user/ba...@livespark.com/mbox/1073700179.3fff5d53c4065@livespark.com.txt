FROM: ba...@livespark.com
SUBJECT: Disappearing Index
DATE: 10 Jan 2004

Weird error. I am not sure exactly how it is happening but my index of 
approximately 5.6M documents seems to get zeoroed out in an somewhat arbritary 
manner. I am seeing a few stack traces but I am not sure how they are 
affecting the index. It almost seems like a document is being indexed and for 
some reason it fails and the whole thing disappears. 

Here are a few stack traces:

java.io.FileNotFoundException: /home/data/indexes/live/_63.fnm (No such file 
or directory)
        at java.io.RandomAccessFile.open(Native Method)
        at java.io.RandomAccessFile.<init>(RandomAccessFile.java:204)
        at org.apache.lucene.store.FSInputStream$Descriptor.<init>
(FSDirectory.java:389)
        at org.apache.lucene.store.FSInputStream.<init>(FSDirectory.java:418)
        at org.apache.lucene.store.FSDirectory.openFile(FSDirectory.java:291)
        at org.apache.lucene.index.FieldInfos.<init>(FieldInfos.java:80)
        at org.apache.lucene.index.SegmentReader.<init>(SegmentReader.java:138)
        at org.apache.lucene.index.IndexWriter.mergeSegments
(IndexWriter.java:423)


and

java.lang.ArrayIndexOutOfBoundsException: 101
java.lang.ArrayIndexOutOfBoundsException: 101
        at org.apache.lucene.util.PriorityQueue.put(PriorityQueue.java:84)
        at org.apache.lucene.search.IndexOrderSearcher$1.collect
(IndexOrderSearcher.java:198)
        at org.apache.lucene.search.BooleanScorer$BucketTable.collectHits
(BooleanScorer.java:166)
        at org.apache.lucene.search.BooleanScorer.score(BooleanScorer.java:132)
        at org.apache.lucene.search.IndexOrderSearcher.search
(IndexOrderSearcher.java:164)
        at org.apache.lucene.search.MultiSearcher.search
(MultiSearcher.java:150)
        at org.apache.lucene.search.Hits.getMoreDocs(Hits.java:93)

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


