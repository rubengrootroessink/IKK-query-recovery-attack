FROM: Maxim Patramanskij <...@osua.de>
SUBJECT: Re[2]: indexes won't close on windows
DATE: 20 Sep 2004

Hello Fred,

When you recreate an index from the scratch (with the last
IndexWriter constructor's argument "true"), all IndexReaders must be
closed, cause IndexWriter tries to delete all files entire directory,
where you index being created.

If you have any opened IndexReader within this time, then Windows
locks some of the files, used by IndexReader, preventing them from being
changed by other process.  Thus IndexWriter's constructor is unable
to delete these files and throws IOException.


Max


Monday, September 20, 2004, 4:40:00 PM, you wrote:

FT> Hi Sergiu,

FT> Thanks for your suggestions. I will try using just the IndexSearcher(String...)
FT> and see if that makes a difference in the problem. I can confirm that
FT> I am doing a proper close() and that I'm checking for exceptions. Again,
FT> the problem is not with the search function, but with the command-line
FT> indexer. It is not run at startup, but on demand when the index needs
FT> to be recreated.

FT> Thanks,

FT> Fred


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


