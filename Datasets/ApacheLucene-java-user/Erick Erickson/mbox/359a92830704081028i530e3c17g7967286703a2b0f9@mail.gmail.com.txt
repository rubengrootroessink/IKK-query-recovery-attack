FROM: "Erick Erickson" <erickerick...@gmail.com>
SUBJECT: Re: built index doesn't contain a segments file
DATE: 8 Apr 2007

Please explain a little more what "I let two threads build an index"
means. If it means two threads operate on the *same* index, that's
a problem (but you're probably not doing this or you'd be getting
lock violations I expect).

 If it means they are two are completely separate
operations working with two different indexes in two separate
directories, that's a different situation.....

But are you completely sure you're closing both indexwriters etc.
before you try to merge them?

Also, what version of Lucene are you using? I ask because
there has been some work in that area for Lucene 2.1, so it
could point towards different issues if you're using an older
version.

Best
Erick@ItsUnseasonablyColdInMichiganOrIdBeOutside

On 4/8/07, lucene@nitwit.de <lucene@nitwit.de> wrote:
>
> Hi!
>
> I feel somewhat stupid for asking this but...I let two thread build an
> index
> and the merge it into one on disk via addIndexes(), optimize() and
> close().
> This is what it looks like on disk:
>
> -rw-r--r-- 1 root root 25608841 Apr  8 18:37 _4.cfs
> -rw-r--r-- 1 root root       20 Apr  8 18:37 segments.gen
> -rw-r--r-- 1 root root       41 Apr  8 18:37 segments_4
>
> However if I try to IndexReader.open() the index lucene complains about a
> missing segments file.
>
> Well, right, it's not there. But why not?
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

