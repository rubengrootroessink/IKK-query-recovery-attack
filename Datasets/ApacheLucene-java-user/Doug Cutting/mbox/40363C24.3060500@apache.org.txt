FROM: Doug Cutting <cutt...@apache.org>
SUBJECT: Re: Concurrency
DATE: 20 Feb 2004

David Townsend wrote:
> Does this mean that if an IndexSearcher has hold of a segment file, then the index is
optimised, any subsequent search will use a list of files that probably don't exist anymore?

The IndexSearcher (through an IndexReader) has the files open, so it is 
still valid, and may be searched.  On Unix, the may have already been 
deleted, since Unix lets you delete files which are open, reclaiming the 
disk space when they're closed (or the process exits).  On Win32 one 
cannot delete open files and Lucene must queue deletions.

So, yes, on Unix you may be searching index files that have been 
deleted.  Whether such files exist or not is a matter for philosophers.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


