FROM: Doug Cutting <cutt...@apache.org>
SUBJECT: Re: setMaxClauseCount ??
DATE: 20 Jan 2004

setMaxClauseCount determines the maximum number of clauses, which is not 
your problem here.  Your problem is with required clauses.  There may 
only be a total of 31 required (or prohibited) clauses in a single 
BooleanQuery.  If you need more, then create more BooleanQueries and 
combine them with another BooleanQuery.  Perhaps this could be done 
automatically, but I've never heard anyone encounter this limit before. 
  Do you really mean for 32 different terms to be required?  Do any 
documents actually match this query?

Doug

Karl Koch wrote:
> Hi group,
> 
> I run over a IndexOutOfBoundsException:
> 
> -> java.lang.IndexOutOfBoundsException: More than 32 required/prohibited
> clauses in query.
> 
> The reason: I have more then 32 BooleanCauses. From the Mailinglist I got
> the info how to set the maxiumum number of clauses higher before a loop:
> 
> ...
> myBooleanQuery.setMaxClauseCount(Integer.MAX_VALUE);
> while (true){
>   Token token = tokenStream.next();
>   if (token == null) {
>     break;
>   }
>   myBooleanQuery.add(new TermQuery(new Term("bla", token.termText())), true,
> false);
> } ...     
> 
> However the error still remains, why?
> 
> Karl
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


