FROM: Todd Nine <t...@spidertracks.co.nz>
SUBJECT: Filtering times stored as longs in HEX
DATE: 17 Sep 2010

Hi all,
  I'm using Lucandra to index notes in our system.  Since we can't use
numeric fields due to a bug in Cassandra (fixed in 0.7), I'm encoding
all times a epoch in Hex, then storing the hex string.  I have the
following fields on my document.

createdDate
phoneNumber
email


I want to perform a query where the input is either a phone number, or
an email.  The user also passes in an epoch timestamp (long in
milliseconds), and the count.  I need to return all documents with a
timestamp <= the given timestamp, and the maximum count.  I'm having
some trouble building this query in my code.  I never get any results,
but I can see the data is written to the index properly.  Here is my
code.

http://pastie.org/private/xzvnntmyjzxgpjgctxftrq



Thanks,
Todd





