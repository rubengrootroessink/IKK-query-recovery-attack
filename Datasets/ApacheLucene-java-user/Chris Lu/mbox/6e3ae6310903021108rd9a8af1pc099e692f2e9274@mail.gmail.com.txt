FROM: Chris Lu <chris...@gmail.com>
SUBJECT: Re: Restricting the result set with hierarchical ACL
DATE: 2 Mar 2009

There are two ways to handle this:
1) During indexing time, expand the group tree and store them to the
documents, like "groups:1 2 3"
2) When indexing, storing only the exact group the document belongs to. Then
during search time, expand group tree to search all the groups the user
belongs to, including the sub groups.

Approach 2 should be more flexible. I don't think a user will have that many
groups exceeding the default 1024.

-- 
Chris Lu
-------------------------
Instant Scalable Full-Text Search On Any Database/Application
site: http://www.dbsight.net
demo: http://search.dbsight.com
Lucene Database Search in 3 minutes:
http://wiki.dbsight.com/index.php?title=Create_Lucene_Database_Search_in_3_minutes
DBSight customer, a shopping comparison site, (anonymous per request) got
2.6 Million Euro funding!


On Mon, Mar 2, 2009 at 7:58 AM, <markus@malkusch.de> wrote:

> Dear list
>
> I need to restrict the resultlist to the appropriate rights of the user
> who is searching the index.
>
> A document may belong to several groups.
>
> A user must belong to all groups of the document to find it. There's one
> additional problem: The groups are a tree. A user is automaticaly
> in every parent group of his groups. For example A is a child of B, so a
> user in group A would also be allowed to see documents of group B.
>
> And now I have no Idea how to get a restricted search result from
> lucene. There are about 10000 documents, so I'm not very happy to filter
> them after the index was searched.
>
> I tried to get all allowed document ids (there's a field for the id) and
> put them into a BooleanQuery (id1 or id2, ...), but then I get a
> BooleanQuery$TooManyClauses: maxClauseCount is set to 1024
>
> So how can I restrict my search results with lucene?
>
> Markus Malkusch
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

