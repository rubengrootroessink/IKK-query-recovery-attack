FROM: "Lee Mallabone" <...@grantadesign.com>
SUBJECT: Re: Highlighting terms, new white paper
DATE: 16 Oct 2001

Dear Maik,

> Hi, I just wanted to let you know that I've set up a new white paper
> along with complete source code. The new code also takes care of the new
> Query subclasses PrefixQuery, RangeQuery and MultiTermQuery.

This looks fantastic - a great piece of documentation, thanks a lot!

However, when I enter a wildcard search ("wo?d" or "woo*" both cause the
error with my index), I get a NullPointerException with this trace:

java.lang.NullPointerException
 at
org.apache.lucene.search.MultiTermQuery.getQuery(MultiTermQuery.java:131)
 at misc.LuceneTools.getTermsFromMultiTermQuery(LuceneTools.java:190)
 at misc.LuceneTools.getTerms(LuceneTools.java:131)
 at misc.LuceneTools.getTermsFromBooleanQuery(LuceneTools.java:150)
 at misc.LuceneTools.getTerms(LuceneTools.java:121)
 at
com.grantadesign.asm.servlet.LuceneSearchResults.doGet(LuceneSearchResults.j
ava:129)
 at javax.servlet.http.HttpServlet.service(HttpServlet.java:740)

Do you ever see anything like this, as I'm a little baffled as to the
cause...

I made a tiny modification to check for enum == null in the finally block of
MultiTermQuery.getQuery(), but I get the feeling 'enum' should never be null
and that I'm doing the wrong thing...

Do you have any advice on how to get this to work?

Kind regards,

Lee Mallabone



