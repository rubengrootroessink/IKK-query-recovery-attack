FROM: "Ravi" <ravi.jalada...@siti.com>
SUBJECT: Memory Increasing when the optimize is called
DATE: 7 Feb 2006

Hi 

 

 

I have index file around 2GB and when I optimize the index file tomcat is
taking more memory than normal and even after completion of optimization
also it is still taking more memory than the normal memory.. is this way it
will happen or do I need to change any thing to  reduce the memory I am
sending the code for optimization .. Please tell me is there any wrong in
the following code.

 

 

 

 

public  static  void optimizeIndexing() {

                         System.out.println("Index Optitmaization
started....");

                         ERMProperties objProperties
=          new ERMProperties();

                                    String strApplicationDataPath
=          objProperties.getProperty("applicationDataPath");

                                    String strIndexPath
=          strApplicationDataPath + "Index";

                                    File objIndexDir
=          new File(strIndexPath);

                                    boolean bNewIndex
=          false;

                                    IndexWriter indexWriter
=          null;

                                    FSDirectory objFSDirectory
=          null;

                                    try{

                                                if
(!objIndexDir.isDirectory()) {

 
objIndexDir.mkdir();

                                                            bNewIndex
=          true;

                                                }

                                                objFSDirectory
=          FSDirectory.getDirectory(new File(strIndexPath), bNewIndex);

                                                indexWriter
=          new IndexWriter(objFSDirectory, new HLAnalyzer(), bNewIndex);

                                                indexWriter.optimize();

                                    }catch(Exception objException){

                                        objException.printStackTrace();

                                    }finally{

                                                try { if (indexWriter !=
null) indexWriter.close(); } catch( Exception exc) { }

                                                try { if (objFSDirectory !=
null) objFSDirectory.close(); } catch( Exception exc) { }

                                    }

                            

                                    System.out.println("Index Optitmaization
Endeded....");

                        }

 

 

Regards,

Ravi Kumar Jaladanki


