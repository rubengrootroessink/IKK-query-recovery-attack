FROM: Chris Hostetter <hossman_luc...@fucit.org>
SUBJECT: Re: Help with Lucene Indexer crash recovery
DATE: 7 Oct 2007


: That said, it should never in fact cause index corruption, as far as I
: know.  Lucene is "semi-transactional": at any & all moments you should
: be able to destroy the JVM and the index will be unharmed. I would
: really like to get to the bottom of why this is not the case here.

At any point you can shutdown the JVM and the index will be unharmed, but 
"destroying" it with "kill -9" goes a little farther then that.  

Lucene can't make that claim because the JVM can't even garuntee that 
bytes are written to physical disk when we close() an OutputStream -- all 
it garuntees is that the bytes have been handed to the OS.  When you "kill 
-9" a process the OS is free to make *EVERYTHING* about that process 
vanish without cleaning up after it ... i'm pretty sure even pending IO 
operations are fair game for disappearing.



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


