FROM: Chris Hostetter <hossman_luc...@fucit.org>
SUBJECT: RE:  Re: Replacing FAST functionality atsesam.no-ShingleFilter+exactmatching
DATE: 10 Sep 2008



: change in the future.  Long term, I think this should be addressed: 
: there should be a query parser that will work directly with 
: ShingleFilter, i.e., that will pass all tokens at once to it without 
: requiring quotes.

I won't pretend that i've been following this thread all that closely, but 
to chime in here real fast:  converting query strings to Query obejcts 
usually involves two passes: pass one is involves QueryParser (or 
something like it) to check for meta-markup; pass two involves the 
QueryParsersending chunks of text to the appropriate Analyzer.

In Solr, when you use the default QParser, the input is passed to the 
Lucene QueryParser which (in the absence of quotes) splits on whitespace, 
and treats each chunk seperately before passing them to the appropriate 
Analyzer (it does this because each chunk could have a differnet field 
name)

BUT! ... there are (as of Solr 1.3) many QParser options which can be 
selected at query time.  Yonik even added a whole new string prefix syntax 
so you can pick the QParser per individual querystring-esqe param (ie: q, 
fq, bq, facet.query, etc...)

The FieldQParserPlugin in particular passes the entire querystring to the 
Analyzer for the field specified by an "f" param as a single chunk...

         {!field f=yourfieldName}Some input that can have spaces

http://localhost:8983/solr/select/?debugQuery=true&rows=0&q=%7B%21field+f%3Dname%7DFoo+Bar


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


