FROM: Chris Hostetter <hossman_luc...@fucit.org>
SUBJECT: Re: 1.4.x TermInfosWriter.indexInterval not public static ?
DATE: 26 Feb 2005

: > Whats the desired pattern of using of TermInfosWriter.indexInterval ?
:
: There isn't one.  It is not a part of the public API.  It is an
: unsupported internal feature.

: It was never public.  It used to be static and final, but is now an
: instance variable.

: The place to put getter/setters would be IndexWriter, since that's the
: public home of all other index parameters.  Some changes to
: DocumentWriter and SegmentMerger would be required to pass this value
: through to TermInfosWriter from IndexWriter.

I don't really understand what this variable does, but from what I do
understand: changing it's value can have significant performance impacts
depending on the nature of the data being indexed.  That leads me to
belive3 that making it configurale would be a good idea, but it begs a
some questions:

 1) If making it mutatable requires changes to other classes to propogate
    it, then why is it now an instance variable instead of a static?
    (Presumably making it an instance variable allows subclasses to
    override the value, but if other classes have internal expectations
    of the value, that doesn't seem safe)

 2) Should it be configurable through a get/set method, or through a
    system property?
    (which rehashes the instance/global question)

 3) Is it important that a writer updating an existing index use the same
    value as the writer that initial created the index?  if so should
    there really be a "preferedIndexInterval" variable which is mutatable,
    and a "currentIndexInterval" which is set to the value of the index
    currently being updated.  Such that preferedIndexInterval is used when
    making an index from scratch and currentIndexInterval is used when
    adding segments to a new index?



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


