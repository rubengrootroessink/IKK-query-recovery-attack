FROM: Chris Hostetter <hossman_luc...@fucit.org>
SUBJECT: Re: FieldCacheImpl mistake?
DATE: 16 Feb 2007


: The default should be 0 to keep being backwards compatible. Then just
: provide a means to change that setting. So for my code I just could add:
:      setInitialValue(Float.NEGATIVE_INFINITY); for example.
: Being the INITIAL_VALUE thingy set initially to 0. That would be backwards
: compatible.

It would be backwards compatible -- but it wouldn't be generally reusable,
it would be impossible to have different initial values for multiple
fields (let alone for multiple fields in multiple indexes in teh same JVM)

: > one (kludgy) possibility would be to use a single call to
: > FloatParser.parseFloat(null) to determine what value to use -- if it

: The parser is not used in those cases that there is no field. My first
: approach on all this, before looking at the code, was to create a new

yes, i realize that ... i'm suggestion that adding a call to
FloatParser.parseFloat(null) in the FieldCacheImpl when it is initially
building up the float[] would be one potential way to dealing with this in
a backwards compatible way.



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


