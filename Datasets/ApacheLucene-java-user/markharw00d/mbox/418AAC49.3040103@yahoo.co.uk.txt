FROM: markharw00d <markharw...@yahoo.co.uk>
SUBJECT: Re: Faster highlighting with TermPositionVectors (update)
DATE: 4 Nov 2004

Having revisited the original TokenSources code it looks like one of the 
optimisations I put in will fail if fields are stored with 
non-contiguous position info (ie the analyzer has messed with token 
position numbers so they overlap or have gaps like ..3,3,7,8,9,..).
I've now made the TokenSources code safe by default by assuming token 
position values are not contiguous and should not be used for sorting.
For those who know what they are doing  I have added a parameter to one 
of the methods to turn the optimisation back on if they can guarantee 
positions are contigous.

New code is at the same place:
http://www.inperspective.com/lucene/TokenSources.java

Cheers
Mark



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


