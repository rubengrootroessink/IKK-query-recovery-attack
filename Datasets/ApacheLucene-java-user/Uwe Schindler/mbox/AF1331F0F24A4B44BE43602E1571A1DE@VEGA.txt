FROM: "Uwe Schindler" <...@thetaphi.de>
SUBJECT: RE: question about (problem with?) use of FieldCache$StringIndex
DATE: 25 Jun 2009

This class is used, when you sort your result against a field, which
contains string values (no numerics). For each field sorted on / index a
separate StringIndex is created, that stays persistens until the index is
closed (because it costs much CPU to build this stringindex, this is why the
first sorted query takes some extra time). You cannot change the size, you
can only disable sorting. Or sort against a better data type like ints or
other numerics (if you can encode you sort order as a number).

-----
Uwe Schindler
H.-H.-Meier-Allee 63, D-28213 Bremen
http://www.thetaphi.de
eMail: uwe@thetaphi.de

> -----Original Message-----
> From: Ulf Dittmer [mailto:ulf@ulfdittmer.com]
> Sent: Thursday, June 25, 2009 11:14 PM
> To: java-user@lucene.apache.org
> Subject: question about (problem with?) use of FieldCache$StringIndex
> 
> Hello-
> 
> We're looking at memory issues we're having with a fair-sized web app
> that uses Lucene for search. While looking at heap dumps, we
> discovered that there were 3 instances of
> org.apache.lucene.search.FieldCache$StringIndex, each about 110MB in
> size (out of a total of 1 GB).
> 
> Looking at the javadocs, I'm not real clear what the class does, but
> it doesn't seem to have any settings one could change. So I'm
> wondering: Is it normal to have more than one instance of this? Is it
> necessary? Are there circumstances in which this could be avoided? If
> we can't avoid it being used: are there ways of making it use less
> memory?
> 
> Thanks in advance for any clue. The trusted "Lucene In Action"
> doesn't talk about the class, and our code doesn't use it directly,
> so I'm a bit stumped.
> 
> Ulf
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


