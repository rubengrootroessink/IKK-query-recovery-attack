FROM: "Uwe Schindler" <...@thetaphi.de>
SUBJECT: RE: OOM with 2.9
DATE: 12 Jul 2009

Is it a 32 or 64 bit JVM? If 32 bit, this error can happen, if the new
Lucene Core needs more real memory and so the MMaped address space is
already used. MMapDirectory should only be used with 64 bit machines.

-----
Uwe Schindler
H.-H.-Meier-Allee 63, D-28213 Bremen
http://www.thetaphi.de
eMail: uwe@thetaphi.de

> -----Original Message-----
> From: eks dev [mailto:eksdev@yahoo.co.uk]
> Sent: Sunday, July 12, 2009 1:24 PM
> To: java-user@lucene.apache.org
> Subject: Re: OOM with 2.9
> 
> 
> Stack trace
> 
> java.io.IOException: Map failed
>  at sun.nio.ch.FileChannelImpl.map(Unknown Source)
>  at org.apache.lucene.store.MMapDirectory$MMapIndexInput.<init>(Unknown
> Source)
>  at org.apache.lucene.store.MMapDirectory$MMapIndexInput.<init>(Unknown
> Source)
>  at org.apache.lucene.store.MMapDirectory.openInput(Unknown Source)
>  at org.apache.lucene.index.SegmentReader$CoreReaders.<init>(Unknown
> Source)
>  at org.apache.lucene.index.SegmentReader.get(Unknown Source)
>  at org.apache.lucene.index.SegmentReader.get(Unknown Source)
>  at org.apache.lucene.index.DirectoryReader.<init>(Unknown Source)
>  at org.apache.lucene.index.ReadOnlyDirectoryReader.<init>(Unknown Source)
>  at org.apache.lucene.index.DirectoryReader$1.doBody(Unknown Source)
>  at org.apache.lucene.index.SegmentInfos$FindSegmentsFile.run(Unknown
> Source)
>  at org.apache.lucene.index.DirectoryReader.open(Unknown Source)
>  at org.apache.lucene.index.IndexReader.open(Unknown Source)
>  at org.apache.lucene.index.IndexReader.open(Unknown Source)
>  at
> com.qspi.su.search.IndexReaderFactory.getNewIndexReaderInstance(IndexReade
> rFactory.java:70)
>  at com.qspi.su.search.SearchStrategy.<init>(SearchStrategy.java:147)
>  at com.qspi.su.search.Searcher.<init>(Searcher.java:170)
>  at com.qspi.su.search.Searchers.<init>(Searchers.java:21)
>  at com.qspi.su.ipc.SUProtocolImpl.<init>(SUProtocolImpl.java:76)
>  at com.qspi.su.ipc.SUServer.run(SUServer.java:84)
>  at com.qspi.su.ipc.SUServer.main(SUServer.java:204)
> Caused by: java.lang.OutOfMemoryError: Map failed
>  at sun.nio.ch.FileChannelImpl.map0(Native Method)
> 
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


