FROM: "Stanislav Jordanov" <ste...@sirma.bg>
SUBJECT: Re: Fast access to a random page of the search results.
DATE: 28 Feb 2005

> What did you do in your private investigation?
1. empirical tests with an index of nearly 75,000 docs (I am attaching the test source)
2. reviewing and tracing the source code of Lucene
(I do not claim I have gained a deep understanding of it ;-)

> Sorted by descending relevance (the default), or in some other way?
In some other way - sorted by some column (asc or desc - doesn't matter)

> If a search is fast enough, as you report, then you can simply start 
> your access to Hits at the appropriate spot.  For the current systems 
> I'm working on, this is the approach I've used - start iterating hits 
> at (pageNumber - 1) * numberOfItemsPerPage.
> 
> Is that approach insufficient?

I'm afraid this is not sufficient;
Either I am doing something wrong,
or it is not that simple:
following is a log from my test session;
It appears that IndexSearcher.search(...) finishes rather fast
compared to the time it takes to fetch the last document from the Hits object.
The log starts here:
pa

Found 74222 document(s) that matched query 'pa'

Sorting by "sfile_name"

query executed in 16ms

Last doc accessed in 375ms

us

Found 74222 document(s) that matched query 'us'

Sorting by "sfile_name"

query executed in 31ms

Last doc accessed in 219ms

1

Found 74222 document(s) that matched query '1'

Sorting by "sfile_name"

query executed in 15ms

Last doc accessed in 235ms

5

Found 74222 document(s) that matched query '5'

Sorting by "sfile_name"

query executed in 422ms

Last doc accessed in 219ms

6

Found 72759 document(s) that matched query '6'

Sorting by "sfile_name"

query executed in 344ms

Last doc accessed in 250ms

