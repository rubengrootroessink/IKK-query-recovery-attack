FROM: Dmitry Serebrennikov <dmit...@earthlink.net>
SUBJECT: Re: crash in Lucene
DATE: 6 Nov 2003

Hi Herb,

While I agree with Eric that the demo was not meant for production load, 
that still does not explain the NullPointerException in 
IndexWriter.close... I had a look at the source of the 1.2 final release 
and the line 146 appears to be a call to writeLock.release(). But you 
seem to think that this could be the line before this, which is 
ramDirectory.close(). Could you confirm which one it is, and/or provide 
a stack trace with the line number that you got when you tried against 
the current code line?

Assuming it's writeLock.release(), an easy explanation would be that 
close() was called twice on the same IndexWriter. Perhaps the demo has a 
bug that ends up doing this in some cases?

Dmitry.


>>
>> Subject:
>> RE: crash in Lucene
>> From:
>> "Chong, Herb" <HChong3@bloomberg.com>
>> Date:
>> Tue, 4 Nov 2003 16:04:38 -0500
>> To:
>> "Lucene Users List" <lucene-user@jakarta.apache.org>
>>
>>
>>no change in 1.3RC2. the crash is at the same statement, although the absolute line
number has moved.
>>
>>this is the demo IndexFiles application with a change in the main() method to allow
specifying more than one file/directory in the parameter list. i also modified the FileWriter
class to save the first 300 bytes of each document in an Unindexed field. i used the 1.2 version
of the demo application to as my base for these changes. the application is being run with
a 1000M JVM size. there are about 120,000 documents averaging about 600 bytes in size.
>>
>>Herb....
>>-----Original Message-----
>>From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
>>Sent: Tuesday, November 04, 2003 1:42 PM
>>To: Lucene Users List
>>Subject: Re: crash in Lucene
>>
>>
>>Could you try the latest CVS version or 1.3 RC build and see if the 
>>problem has been resolved?
>>  
>>
>>
>  
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


