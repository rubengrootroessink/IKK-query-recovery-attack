FROM: "amigo@max3d.com" <am...@max3d.com>
SUBJECT: Problem with indexing/merging indices - documents not indexed.
DATE: 6 Dec 2004

Hello all

After reading the list for more than a year, I've finally decided (got 
courage) to post my first question.
I'm not an expert in Lucene or Java, but I can find my way around it and 
right now I'm having a problem
that I hope this list could help me out with.

I'm using MySQL to store document records (9 document types, about 30-40 
fields per document type, various lengths and purpose)
which are also indexed with Lucene upon creation and after updates. This 
is done by calling a JAVA class I wrote, from PHP and passing
on necessary parameters for indexing. But for whatever reason documents 
are not being indexed or indices being merged for that matter.

Attached is a test.java source that I wrote based on my existing code 
for indexing, as a command line test class
that indexes single documents based on two arguments: doctype and 
fileno. I have tried indexing directly into the existing
index or indexing into RAMDirectory and then merging that index with the 
existing index and in both cases the document
does not get merged into the existing FS index (count of documents does 
not increase in the existing index, and in case of a new index
it's 0 and the only file in the index directory is segments)

I have read Otis's article "Advanced Text Indexing with Lucene" and 
that's where I got the idea to try to first index into RAM and then merge
indices instead of directly indexing, just for a sanity test, and while 
Otis's code works fine, my alteration does not.

I would appreciate any feedback on my code and whether I'm doing 
something in a wrong way, because I'm at a total loss right now
as to why documents are not being indexed at all.


thanks in advance,

-pedja


