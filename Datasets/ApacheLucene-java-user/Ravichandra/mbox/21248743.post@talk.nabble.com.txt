FROM: Ravichandra <ravichandra.thiruveedh...@fmr.com>
SUBJECT: Out of Memory Error while using WildCard Query
DATE: 2 Jan 2009


Hi

  I am using Lucene for record set of around 1.5 million records and the
index size is approximately 400MB. I am also using query level boosting so
that we can get the relevant records first in the search results.
  Here is the way I create query:

  Query partialMatchQuery = new WildcardQuery(new Term("column_name",
"termToSearch*"));
   partialMatchQuery.setBoost(100);

When I deployed the application on a tomcat instance with 512MB RAM. First
it threw an exception about too many clauses, so I set the Max clause count
to Integer max. Then it threw an out of memory error.

The options I tried:

•	I thought of using Filters, but I have to search on normal string data not
Dates. And I am not able to use the boosting with filters.

•	If I upgrade the RAM to 1GB, I didn’t get any out of memory error. But I
feel if the data gets increased, this error may come up again. 

Questions:
 
1.	To my understanding, filters will be applied on the search results. Is it
true?
2.	Is there any way we can use boost with filters?
3.	What should be the RAM size when compared with index size?
4.	If the index is loaded once into the memory, will it cater all the
requests or it has to load the index for each request? 
5.	Do I need to increase the RAM if the number of users increases?


Please suggest me how to over come this issue.

Thanks 
Ravichandra




-----
Thanks
Ravichandra
-- 
View this message in context: http://www.nabble.com/Out-of-Memory-Error-while-using-WildCard-Query-tp21248743p21248743.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


