FROM: "Clay, Brian" <bc...@dalycommerce.net>
SUBJECT: RE: Lucene 1.3 final -- Lock/Segment permission errors
DATE: 10 Feb 2004

Thanks.

It actually works out that we have to edit either the java.policy or
[application].policy file to add the directory that we are intending to use.
Unfortunately it is not as dynamic as one would hope.

For those that might have the same problem here is the line that is added to
the .policy file:

permission java.io.Permission "[directory]", "read,write, delete";

Bri

-----Original Message-----
From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com] 
Sent: Monday, February 09, 2004 3:52 PM
To: Lucene Users List
Subject: Re: Lucene 1.3 final -- Lock/Segment permission errors


I would first look at the exact command line that is used to start the app
server.  Could it be that includes something like
-Djava.io.temp=some-directory-here ? Lucene uses java.io.temp System
property to determine the location/directory to use for lock files.  Maybe
this app server uses some directory with insufficient permissions.


Otis

--- "Clay, Brian" <bclay@dalycommerce.net> wrote:
> We are in the process of migrating an application from WAS 5.1 to Sun 
> Application server 8 (for technical reason version 7 is incompatible 
> with our application). Under WAS Lucene works great; however, when
> building an
> index under Sun we get a java.security.AccessControlException when
> Lucene
> attempts to delete any segment file also any time the application
> attempts
> to delete the write.lock file the same error is being thrown. It
> seems that
> the permissions are fine for Read/Write; however, delete is illegal.
> Though
> the documents created are deleted without error.
> 
> Has anyone gotten Lucene to work on Sun Application Server 8 or 
> encountered this problem?
> 
> Any help would be great.
> 
> Thanks,
> 
> Brian Clay
> 
> ~
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


