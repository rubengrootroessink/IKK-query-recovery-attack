FROM: "Rafael Rossini" <rafael.ross...@gmail.com>
SUBJECT: ArrayIndexOutOfBoundsException on TermScorer
DATE: 24 Jul 2007

Hello all,

I´m using solr in an app, but I´m getting an error that it might be a lucene
problem. When I perform a simple query like q = brasil I´m getting this
exception:

java.lang.ArrayIndexOutOfBoundsException: 1226511
   at org.apache.lucene.search.TermScorer.score(TermScorer.java:74)
   at org.apache.lucene.search.TermScorer.score(TermScorer.java:61)
   at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:146)
   at org.apache.lucene.search.Searcher.search(Searcher.java:118)
   at org.apache.lucene.search.Searcher.search(Searcher.java:97)

I´m using a very recent build from lucene. In the TermScorer.class, line 74
is:

score *= normDecoder[norms[doc] & 0xFF]; // normalize for field

Thanks for any help, and sorry for cross-posting

