FROM: Karl Øie <k...@gan.no>
SUBJECT: Re: Lucene index integrity... or lack of :-(
DATE: 26 Apr 2002

ah, now i see, what i have is a server with 512mb of ram, so i have used two 
different approaches and both works ok;

1 - i index a fixed number of documents into a RAMDir, like 10 (each of the 
docs are xml docs about 1,5-2mb) and then i optimize the RAMDir and merge it 
into the FSDir and then optimize the FSDir...

2 - i use the Runtime.freeMemory() and Runtime.totalMemory() to see if i have 
reached more than 80% of the available memory, if so i optimize the RAMDir, 
merge it and optimize the FSDir..., if not i just add more documents to the 
RAMDir....

as far as i have tested i have never experienced a failure while merging a 
RAMDir into a FSDir regardless of size, so it's my systems memory that is the 
problem....

mvh karl øie


On Friday 26 April 2002 15:33, petite_abeille wrote:
> >> Thanks. What's is your heuristic to flush the RAMDirectory?
> >
> > please explain this because i don't understand english that good :-(
>
> That's ok, I don't really understand English either :-)
>
> Simply put, when do you "flush" the RAMDirectory into the FSDirectory?
> Every five documents? Ten? A thousand? What is a good balance between
> RAM and FS?
>
> Thanks.
>
> PA.


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


