FROM: "Jason Polites" <jason.poli...@gmail.com>
SUBJECT: Re: java.io.IOException: Access is denied on java.io.WinNTFileSystem.createFileExclusively
DATE: 28 Aug 2006

It was definately NTFS, unfortunately it was a while ago, and most of the
code has changed.

Basically I had a multi-threaded app where multiple threads were writing to
the index (but exclusively... that is, I had my own locking mechanism
preventing concurrent writes).

In a separate JVM, I had a fairly standard IndexSearcher based component via
a web interface.  Rapid hits on "refresh" in the browser executing a search
while indexing was being performed resulted in occasional but recurring
FileNotFound errors.

I recall that it was a "segments" file reported as not found.. if that
helps.

On 8/28/06, Michael McCandless <lucene@mikemccandless.com> wrote:
>
> Jason Polites wrote:
> > Yeah.. I had a think about this, and I now remember why I originally
> > came to
> > the conclusion about cross-JVM access.
> >
> > When I was adding documents to the index, and searching at the same time
> > (from a different JVM) I would get the occassional (but regular)
> > FileNotFoundException.
> >
> > I don't recall the exact stack trace, but I put it down to cross JVM
> access
> > at the time...
>
> Was this with an index accessed via NFS or Samba or other remote
> filesystem?  I'd be interested in getting the details if you still have
> / remember them.
>
> We very much want to get use cases like to work correctly but there are
> known issues with locking against at least NFS.
>
> Mike
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

