FROM: Dave Kor <s0454...@sms.ed.ac.uk>
SUBJECT: Unexpected: ordered
DATE: 3 Jul 2005

I have a system that automatically generate span queries to Lucene. Sometimes,
the system generates a query like this one which always throws a
RuntimeException:

spanNear([spanNear([text:interesting], 3, true), spanNear([text:interesting,
text:john, text:said], 8, true)], 2, true)

Basically, the system is looking for a document that contains a string sequence
"interesting .... interesting john said". The thrown exception is as follows:

java.lang.RuntimeException: Unexpected: ordered
        at
org.apache.lucene.search.spans.NearSpans.firstNonOrderedNextToPartialList(Unknown
Source)
        at org.apache.lucene.search.spans.NearSpans.next(Unknown Source)
        at org.apache.lucene.search.spans.SpanScorer.next(Unknown Source)
        at org.apache.lucene.search.Scorer.score(Unknown Source)
        at org.apache.lucene.search.IndexSearcher.search(Unknown Source)

My question is, what does is this "Unexpected: ordered" mean? and is there
anyway I can avoid these exceptions?

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


