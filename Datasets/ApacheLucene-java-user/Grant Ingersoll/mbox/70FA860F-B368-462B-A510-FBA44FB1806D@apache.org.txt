FROM: Grant Ingersoll <gsing...@apache.org>
SUBJECT: Re: score from spans
DATE: 4 Aug 2009

A SpanQuery is a Query, so if you do a search for it, you will get  
scores.  However, the mechanism is a bit complicated, b/c actually  
getting the Spans is separate from doing the query.  I agree there  
could be tighter integration.  However, what you could do is use  
Spans.skipTo to move to the document you are examining in the search  
results.

-Grant

On Aug 2, 2009, at 11:30 AM, Eran Sevi wrote:

> Hi,
>
> How can I get the score of a span that is the result of  
> SpanQuery.getSpans()
> ? The score should can be the same for each document, but if it's  
> unique per
> span, it's even better.
>
> I tried looking for a way to expose this functionality through the  
> Spans
> class but it looks too complicated.
> I'm not even sure that by default some score calculation is even  
> performed
> when using span queries.
>
> I've noticed that some calculations are made using payloads and
> BoostingTermQuery but the score result is used internally and can't be
> accessed from the Spans results.
> I don't want to re-run the query again using a HitCollector and  
> since the
> reader is passed to getSpans, I think it should be possible to do  
> what I
> want.
>
> Any help on the correct way to expose the span score will be  
> appreciated.
>
> Thanks,
> Eran.

--------------------------
Grant Ingersoll
http://www.lucidimagination.com/

Search the Lucene ecosystem (Lucene/Solr/Nutch/Mahout/Tika/Droids)  
using Solr/Lucene:
http://www.lucidimagination.com/search


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


