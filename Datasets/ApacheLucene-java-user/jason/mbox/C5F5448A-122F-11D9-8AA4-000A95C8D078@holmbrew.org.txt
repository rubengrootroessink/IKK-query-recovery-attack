FROM: jason <ja...@holmbrew.org>
SUBJECT: Re: re-indexing
DATE: 29 Sep 2004

That did the trick.

Grrr.  I knew it was something fundamental that I was missing.  Thank 
you for your help.

On Sep 28, 2004, at 11:04 PM, Bo Gundersen wrote:

> Jason wrote:
>> I am having touble reindexing.
>> Basically what I want to do is:
>> 1. Delete the old index
>> 2. Write the new index.
>> The enviroment:
>> The index is search by a web app running from the Orion App Server. 
>> This
>> code runs fin and reindexes fine prior to any searches.  After the 
>> first
>> search against the index is completed the index ends up beiong 
>> read-only
>> ( or not writeable), I cannot reindex and subsequently cannot search
>> because the index is incomplete.
>
> We have several apps running like this only on Tomcat and JBoss with 
> no problems...
>
>> 1. Why doesn't IndexReader.delete(i) really delete the file. it seems 
>> to
>> just make anothe 1K file with a .del extension the IndexWriter still
>> cannot content with?
>
> Never tried the IndexReader.delete() method, we generally build the 
> new index in a temporary directory and when the index is done we 
> delete the current online directory (using java.io.File methods) and 
> then rename the temp directory to online.
>
>> 2. How can I make this work?
>
> This may be just be silly, but do you remember to close your 
> org.apache.lucene.search.IndexSearcher when you are done with your 
> search?
>
> -- 
> Bo Gundersen
> DBA/Software Developer
> M.Sc.CS.
> www.atira.dk
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


