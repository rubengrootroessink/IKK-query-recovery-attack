FROM: escher2k <esche...@yahoo.com>
SUBJECT: Build issue...
DATE: 8 Jan 2007


I am trying to use the build from Jan. 5, 2007 to incorporate with Solr (
compiled using javac 1.5.0_02 on Solaris). When I try to add a new document
to the index, I always get a class def found error. 

Posting file vidcard.xml to http://localhost:8983/solr/update
<result status="1">java.lang.NoClassDefFoundError:
org/apache/lucene/index/Posting
        at
org.apache.lucene.index.DocumentWriter.addPosition(DocumentWriter.java:227)
        at
org.apache.lucene.index.DocumentWriter.invertDocument(DocumentWriter.java:149)
        at
org.apache.lucene.index.DocumentWriter.addDocument(DocumentWriter.java:95)
        at
org.apache.lucene.index.IndexWriter.addDocument(IndexWriter.java:640)
        at
org.apache.lucene.index.IndexWriter.addDocument(IndexWriter.java:622)
        at
org.apache.solr.update.DirectUpdateHandler2.addDoc(DirectUpdateHandler2.java:258)
        at org.apache.solr.core.SolrCore.update(SolrCore.java:716)
        at
org.apache.solr.servlet.SolrUpdateServlet.doPost(SolrUpdateServlet.java:53)
        at javax.servlet.http.HttpServlet.service(HttpServlet.java:616)
        at javax.servlet.http.HttpServlet.service(HttpServlet.java:689)
        at
org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:428)
        at
org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:473)
        at
org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:568)
        at org.mortbay.http.HttpContext.handle(HttpContext.java:1530)
        at
org.mortbay.jetty.servlet.WebApplicationContext.handle(WebApplicationContext.java:633)
        at org.mortbay.http.HttpContext.handle(HttpContext.java:1482)
        at org.mortbay.http.HttpServer.service(HttpServer.java:909)
        at org.mortbay.http.HttpConnection.service(HttpConnection.java:820)
        at
org.mortbay.http.HttpConnection.handleNext(HttpConnection.java:986)
        at org.mortbay.http.HttpConnection.handle(HttpConnection.java:837)
        at
org.mortbay.http.SocketListener.handleConnection(SocketListener.java:245)
        at org.mortbay.util.ThreadedServer.handle(ThreadedServer.java:357)
        at org.mortbay.util.ThreadPool$PoolThread.run(ThreadPool.java:534)
</result>
<result status="0"></result>

Upon examining further, it looks like the Posting class is included in the
DocumentWriter.java file, but
the jar file doesn't seem to include this when it is built. The file is here
-
http://svn.apache.org/viewvc/lucene/java/branches/lucene_2_0/src/java/org/apache/lucene/index/DocumentWriter.java?view=markup

Anyone else face a similar issue.

-- 
View this message in context: http://www.nabble.com/Build-issue...-tf2942700.html#a8228447
Sent from the Lucene - Java Users mailing list archive at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


