FROM: Fitrio Pakana <fir...@yahoo.com>
SUBJECT: OR query return fewer result than AND query
DATE: 8 Dec 2003

I'm replying to Martin's e-mail that excerpted below
since I just join the mailing list and have no idea
hoe to reply to old e-mails.

I have similar problems with him, which is query using
multiple terms, and to make things worse, the hits
returned is quite absurd. The score of hits using 'OR'
(any words) query is lower than if using 'AND' (all
words) query, thus the number of result is fewer for
'OR' query, which I think is not a correct behaviour
for a search engine. Does anybody experience the same
problem? or any explainations/ideas?


Thanks, _Rio

=========================
Subject: multi query with boost AND multiple terms
From: Martin.Rademacher@prg.co.nz
<Martin.Rademacher@prg.co.nz>
Date: Thu, 6 Mar 2003 11:23:32 +1300
Content-Type: text/plain; charset="us-ascii"

Hi there,

I am trying to do a search on multiple terms inclusive
using boosting. I 
extended the MultiFieldQueryParser like this:

 public static org.apache.lucene.search.Query
parse(String query, String[] 
fields, float[] boost,
        Analyzer analyzer)
        throws ParseException
    {
        BooleanQuery bQuery = new BooleanQuery();
        for (int i = 0; i < fields.length; i++)
        {
            org.apache.lucene.search.Query q =
parse(query, fields[i], 
analyzer);
            q.setBoost(boost[i]);
            bQuery.add(q, false, false);
        }
        return bQuery;
    }

It works fine for single term i.e searching for 'dvd'
results in:

name:dvd^6.0 shortDescription:dvd^4.0
longDescription:dvd^2.0

But, if I have multiple term like 'dvd player' I get:

(name:dvd name:player) (mfName:dvd mfName:player)
(shortDescription:dvd 
shortDescription:player) (longDescription:dvd
longDescription:player) 

Any ideas?

Cheers, Martin



__________________________________
Do you Yahoo!?
New Yahoo! Photos - easier uploading and sharing.
http://photos.yahoo.com/

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


