FROM: Britske <gbr...@gmail.com>
SUBJECT: Re: Does LUCENE-831) "Complete overhaul of FieldCache API" provide fieldcache offloading to disk?
DATE: 17 Apr 2008


The obstacle I'm seeing is that I have a lot of fields which use sorting.
Sooner or later this will give an OutOfMem-error since the field-cache grows
too large. Am i correct in assuming that implementing for instance a EHCache
with flush-to-disk would solve this issue?  (With a tradeoff for performance
of course)

Moreover, when warming readers with the patch, thus having 2 reader open at
the same time (I am using solr searchers btw, but I guess these use the same
underlying lucene-code, I'll have to check) can these 2 readers shares the
same fieldcache and thus eliminate the required double memory  while
warming? 

Thanks.


markrmiller wrote:
> 
> It does not specifically incorporate caching to disk, but what it does
> do is easily allow you to provide a new Cache implementation. The
> default implementation is just a simple in memory Map, but its trivial
> to provide a new implementation using something like EHCache to back the
> Cache implementation.
> 
> I don't know if caching to disk will really be that much of a benefit,
> so if you play around I would love to hear your results.
> 
> The big benefit is
> if you are reopening Readers with field caches, it can be waaay faster.
> 
> 
> - Mark
> 
> On Thu, 2008-04-17 at 05:14 -0700, Britske wrote:
>> I've seen some recent activity on LUCENE-831 "Complete overhaul of
>> FieldCache
>> API" and read that it must be able to cleanly patch to trunk (haven't
>> tried
>> yet). 
>> 
>> What I'd like to know from people involved is if this patch incorporates
>> offloading of fieldcache to disk, or if this hasn't yet been taken into
>> account. As far as I can follow it, this was one of the initial
>> intentions. 
>> 
>> Thanks,
>> Britske
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 
> 

-- 
View this message in context: http://www.nabble.com/Does-LUCENE-831%29-%22Complete-overhaul-of-FieldCache-API%22-provide-fieldcache-offloading-to-disk--tp16743559p16747733.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


