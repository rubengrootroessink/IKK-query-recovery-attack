FROM: Peter Carlson <carl...@bookandhammer.com>
SUBJECT: Re: Implement Lucene web-demo using Tomcat
DATE: 29 Oct 2002

Brian,

This is a tomcat config issue. In the server.xml file in the config 
directory is where the port that tomcat listens. If you are not using 
apache with Tomcat then you can have tomcat listen directly to port 80 
by changing where it says 8080 to 80.

If you are using Apache, then you have to get the connector (either 
warp or the new coyote) working and map certain urls to tomcat in the 
warp configuration file. These are all examples and issue that you can 
go to the tomcat site for.

Good luck

--Peter

On Monday, October 28, 2002, at 01:04 PM, Brian Cuttler wrote:

>
> Peter,
>
> I don't have any code of my own. I've got the stuff that
> came with Lucene, the lucene-demo, as per the lucene demo
> howto. I can build and search an index from the # java at
> the Solaris prompt, I can search the index from the luceneweb.war
> file placed under the Tomcat (port 8080) server.
>
> What I'm hoping for is either an easy fix so that I can have
> a link on my main page (http://server:80/search) that will
> direct me to the apache server (http://server:8080) and
> produce a valid list of index hits with URLs of http://server:80/...)
> or will pass the context between the servers in such a way that
> the URLs and summaries presented to the users are correct without
> having to muck with the luceneweb.war file.
>
> I'm happy to provide all the config files, just hadn't wanted to
> clutter the original message or fill the list. Will send or post
> as requested, just let me know which files anyone might want to see.
>
> 						thanks,
>
> 						Brian
>
>> Brian -
>>
>> But you are generating the links from your code and not Lucene, right?
>> So wouldn't this be just a modification to your code?
>>
>> Peter
>>
>> Brian Cuttler wrote:
>>
>>> Otis,
>>>
>>> I can access the web-page that implements the java based
>>> search at the Tomcat port (port 8080). Inputting search
>>> criteria pulls up the search hits, which are all valid
>>> except for the server info, they give me host:8080 when
>>> I really need host ( ie host:80).
>>>
>>> Putting the same java code - "luceneweb.war" under apache
>>> server (port 80), well, it tries to display the java code
>>> as text (looks like a hex dump of a binary).
>>>
>>>
>>>
>>>> Sounds like Tomcat/Apache config issue, which is always a pain.
>>>> Get the basic servlet working, and when you figure that out your 
>>>> Lucene
>>>> stuff should work, too.
>>>> Make sure that the user that runs Tomcat can read the index files.
>>>>
>>>> Otis
>>>>
>>>>
>>>> --- Brian Cuttler <brian@wadsworth.org> wrote:
>>>>
>>>>
>>>>> Tomcat and Lucene users,
>>>>>
>>>>> Hello, I am trying to implement the lucene search web demo
>>>>> run under Tomcat 4.1.10, Lucene 1.2, Apache 1.3.27 on a
>>>>> Solaris 8 system.
>>>>>
>>>>> I've been able to build the lucene index (I need to modify
>>>>> the code to exclude *.txt, we only want to index the .htm
>>>>> and .html files).
>>>>>
>>>>> I'm able to search the index with the command like Java code.
>>>>>
>>>>> I'm able to access the search web page that is placed into
>>>>> the Tomcat webapps directory.
>>>>>
>>>>> However when I run the webapp from the tomcat server (port 8080)
>>>>> I get document url's of host:8080/index-results, which are
>>>>> incorrect because the indexed pages are really under
>>>>> host/index-results,
>>>>> it, not part of that server.
>>>>>
>>>>> We believe that we've installed mod_webapp.so correctly and that
>>>>> the Apache server is talking to the Tomcat Server but I don't
>>>>> know how to complete the task properly.
>>>>>
>>>>> We need to query a search web page on the primary server and
>>>>> use mod_webapp.so to pass context to get proper results ? or
>>>>> we need to modify the output to produce correct server information
>>>>> in the output URLs ?
>>>>>
>>>>> 						thanks in advance,
>>>>>
>>>>> 						Brian
>>>>>
>>>>> ---
>>>>>   Brian R Cuttler                 brian.cuttler@wadsworth.org
>>>>>   Computer Systems Support        (v) 518 486-1697
>>>>>   Wadsworth Center                (f) 518 473-6384
>>>>>   NYS Department of Health        Help Desk 518 473-0773
>>>>>
>>>>>
>>>>>
>>>>> --
>>>>> To unsubscribe, e-mail:
>>>>> <mailto:lucene-user-unsubscribe@jakarta.apache.org>
>>>>> For additional commands, e-mail:
>>>>> <mailto:lucene-user-help@jakarta.apache.org>
>>>>>
>>>>>
>>>>>
>>>> __________________________________________________
>>>> Do you Yahoo!?
>>>> Y! Web Hosting - Let the expert host your web site
>>>> http://webhosting.yahoo.com/
>>>>
>>>> --
>>>> To unsubscribe, e-mail:   
>>>> <mailto:lucene-user-unsubscribe@jakarta.apache.org>
>>>> For additional commands, e-mail: 
>>>> <mailto:lucene-user-help@jakarta.apache.org>
>>>>
>>>>
>>>>
>>>
>>>
>>> --
>>> To unsubscribe, e-mail:   
>>> <mailto:lucene-user-unsubscribe@jakarta.apache.org>
>>> For additional commands, e-mail: 
>>> <mailto:lucene-user-help@jakarta.apache.org>
>>>
>>>
>>>
>>>
>>
>>
>> --
>> To unsubscribe, e-mail:   
>> <mailto:lucene-user-unsubscribe@jakarta.apache.org>
>> For additional commands, e-mail: 
>> <mailto:lucene-user-help@jakarta.apache.org>
>>
>
>
> --
> To unsubscribe, e-mail:   
> <mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail: 
> <mailto:lucene-user-help@jakarta.apache.org>
>
>


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


