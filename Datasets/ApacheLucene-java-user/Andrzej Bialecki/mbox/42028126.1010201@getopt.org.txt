FROM: Andrzej Bialecki ...@getopt.org>
SUBJECT: Re: Synonyms Not Showing In The Index
DATE: 3 Feb 2005

Andrzej Bialecki wrote:
> Luke Shannon wrote:
> 
>> Hello;
>>
>> It seems my Synonym analyzer is working (based on some successful 
>> queries).
>> But I can't see the synonyms in the index using Luke. Is this correct?
>>
> 
> Did you use the combined JAR to run? It contains an oldish version of 
> Lucene... Other than that, I'm not sure - if you can't find the reason 
> you could send me a small test index...
> 
> 

Got the bug. Your index is ok, and your synonym analyzer works as 
expected. The Doc #16, field "name" has the content "luigi|mario test", 
where tokens "luigi" and "mario" occupy the same position.

This was a deficiency with the current version of Luke, where if you 
press "Reconstruct" it tries to reconstruct only unstored fields, but 
shows you the stored fields verbatim (without actually checking how 
their content was tokenized, and what tokens ended up in the index).

This is fixed in the new (yet unreleased) version of Luke. This new 
version restores all fields (no matter if they are stored or only 
indexed), and then displays both the stored content, and the restored 
tokenized content. There was also a bug in GrowableStringsArray - the 
values of tokens with the same position were being overwritten instead 
of appended. This is also fixed now.

You should expect a new release within a week or two. If you can't wait, 
let me know and I'll send you the patches.

-- 
Best regards,
Andrzej Bialecki
  ___. ___ ___ ___ _ _   __________________________________
[__ || __|__/|__||\/|  Information Retrieval, Semantic Web
___|||__||  \|  ||  |  Embedded Unix, System Integration
http://www.sigram.com  Contact: info at sigram dot com


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


