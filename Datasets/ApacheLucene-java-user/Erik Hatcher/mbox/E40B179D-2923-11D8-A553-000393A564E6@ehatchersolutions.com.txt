FROM: Erik Hatcher <e...@ehatchersolutions.com>
SUBJECT: Re: FSDIrectory.create doesn't tolerate subdirectories
DATE: 8 Dec 2003

On Sunday, December 7, 2003, at 08:21  PM, Esmond Pitt wrote:
> I'm not clear whether this is a 'yes' or a 'no'.

I think other committers would need to weigh in on it.  I'm fine with 
making a change to check isDirectory as well and not deleting them 
since Lucene (currently) does not work with sub-directories.  But I'm 
only one vote.

>  For application reasons I
> would like to use a directory structure for indexes that mirrors the
> collection structure of the site, so that there is a master index for 
> the
> whole site and subindexes in subdirectories for each virtual site (and 
> so on
> recursively while I am building subsubindexes for later consolidation).

Certainly seems reasonable.  But I could also argue that you are 
abusing Lucene a little since Lucene *owns* the directory, not you 
directly.

> I can't see any reason why Lucene should adopt a policy of preventing 
> me
> from doing this & of forcing me into something more complicated. 
> Especially
> when in reality this policy is merely a bug  & very easily fixable.

Careful now.  Given the above argument, it is not a bug.  Lucene views 
the directory as an index.  I doubt very seriously if there is anything 
documented within Lucene that says that directory can be used for other 
purposes.

I'm on the fence here.  I don't view it as a "bug" in that it is 
behavior against the design.  It is working as designed, is my guess.  
But I also agree with you that it would be nice if Lucene was kind 
enough to allow you to work within that directory in areas it is not 
(currently) concerned with.  But, what about the future.... should 
Lucene reserve the right to own that directory to make subdirectories 
for a future use?

It is not a black and white area here, I don't think.

Feel free to formally file a bug report though - that is the official 
way to make an issue known to the committers.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


