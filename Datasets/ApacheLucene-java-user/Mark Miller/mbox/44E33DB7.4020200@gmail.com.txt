FROM: Mark Miller <markrmil...@gmail.com>
SUBJECT: Re: Quotes dependent StopWords removal
DATE: 16 Aug 2006

This keeps popping back into my head. A little more info for you. Bear 
in mind I have not dealt with the QueryParser before.

Use the approach I gave last time. Pull out the QueryParser and change 
either QueryParser.jj or QueryParser.java...you may be able to just 
change QueryParser.java and avoid having to recompile the JavaCC grammer 
file. Now at line 992 of QueryParser.java (different line in 
QueryParser.jj) you will see the line: 

q = getFieldQuery(field, term.image.substring(1, term.image.length()-1), s);

This is still using the same strategy I mentioned last time. The query 
parser will analyze the text passed into the getFieldQuery function. 
This particular call of getFieldQuery is made when the query parser sees 
a quoted set of tokens (remember...I'm half guessing on all of this...I 
don't know). The analyzer used by getFieldQuery is stored in the 
QueryParser member variable analyzer. So a possible solution is to save 
the member variable analyzer to a local variable and replace it with a 
non stop word using analyzer right before the getFieldQuery call. 
Restore the original analyzer to the analyzer member variable after the 
call.

This may work for you.

- Mark

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


