FROM: Mark Miller <markrmil...@gmail.com>
SUBJECT: Re: lucene 2.9.0RC4 slower than 2.4.1?
DATE: 16 Sep 2009

Very interesting. Something can't be going right here. You are searching
against a single segment, yet, just for example,
while before, DisjunctionSumScorer.advanceAfterCurrent was being called
154,000 times, now its being called 1.3 million times.
Other scoring methods have similar crazy jumps.

Guys that worked on that stuff - any ideas on whats up here?


They both appear to be using BooleanScorer2.

-- 
- Mark

http://www.lucidimagination.com




Thomas Becker wrote:
> New Profiling sessions with invocation counts. A single lucene search request
> with huge resultset (169k items).
>
> Quite interesting results though and there's definetly something wrong with luc
> 2.9 and the way I'm using it. But see yourself:
>
> http://ankeschwarzer.de/tmp/lucene_24_oldapi_singlereq.png
> http://ankeschwarzer.de/tmp/lucene_29_oldapi_singlereq.png
> and even worse:
> http://ankeschwarzer.de/tmp/lucene_29_newapi_mmap_singlereq.png
>
> Have to verify that the last one is not by accident more than one request. Will
> do the run again and then post the required info.
>
> Mark Miller wrote:
>   
>> bq. I'll do some profiling now again and let you know the results.
>>
>> Great - it will be interesting to see the results. My guess, based on
>> the 2.9 new api profiling, is that your queries may not be agreeing with
>> some of the changes somehow. Along with the profiling, can you fill us
>> in on the query types you are using as well? (eg qualities)
>>
>> And grab invocations if its possible.
>>
>>     
>
>   


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


