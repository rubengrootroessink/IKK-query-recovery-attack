FROM: Michael McCandless <luc...@mikemccandless.com>
SUBJECT: Re: Lucene 2.3.1 Index Corruption?
DATE: 17 Mar 2008


Hi,

Can you describe what led up to this?  Were there any exceptions when  
adding documents to the index?  Was the index newly created with  
2.3.1 or created on 2.3.0 or 2.2?

What options are you using in your IndexWriter?

Is it easy to reproduce?  If so, can you call setInfoStream on your  
IndexWriter when creating this index and post the resulting output?

Mike

Jamie wrote:

>
> Hi There
>
> I am getting the following error while searching a given index:
>
> java.io.FileNotFoundException: /usr/local/index/_0.fdt (No such  
> file or directory)
>        at java.io.RandomAccessFile.open(Native Method)
>        at java.io.RandomAccessFile.<init>(Unknown Source)
>        at org.apache.lucene.store.FSDirectory$FSIndexInput 
> $Descriptor.<init>(FSDirectory.java:506)
>        at org.apache.lucene.store.FSDirectory$FSIndexInput.<init> 
> (FSDirectory.java:536)
>        at org.apache.lucene.store.FSDirectory.openInput 
> (FSDirectory.java:445)
>        at org.apache.lucene.index.FieldsReader.<init> 
> (FieldsReader.java:75)
>        at org.apache.lucene.index.SegmentReader.initialize 
> (SegmentReader.java:308)
>        at org.apache.lucene.index.SegmentReader.get 
> (SegmentReader.java:262)
>        at org.apache.lucene.index.SegmentReader.get 
> (SegmentReader.java:197)
>        at org.apache.lucene.index.MultiSegmentReader.<init> 
> (MultiSegmentReader.java:55)
>        at org.apache.lucene.index.DirectoryIndexReader$1.doBody 
> (DirectoryIndexReader.java:75)
>        at org.apache.lucene.index.SegmentInfos$FindSegmentsFile.run 
> (SegmentInfos.java:636)
>        at org.apache.lucene.index.DirectoryIndexReader.open 
> (DirectoryIndexReader.java:63)
>        at org.apache.lucene.index.IndexReader.open(IndexReader.java: 
> 209)
>        at org.apache.lucene.index.IndexReader.open(IndexReader.java: 
> 173)
>        at org.apache.lucene.search.IndexSearcher.<init> 
> (IndexSearcher.java:48)
>
> My software used to work perfectly under earlier versions of  
> Lucene. Since I upgraded to 2.3.1, this problem has arisen.
>
> I seriously worried my customer's indexes will be corrupted. Lucene  
> expects to find a file that does not exist.
>
> Any ideas on what might be happening and how to rectify this?
>
> Jamie
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


