FROM: "Michael McCandless" <luc...@mikemccandless.com>
SUBJECT: Re: - possible bug in lock timeout
DATE: 8 Nov 2007


OK, I've opened https://issues.apache.org/jira/browse/LUCENE-1048 to this issue.

Thanks Nikolay!

Mike

"Nikolay Diakov" <nikolay.diakov@fredhopper.com> wrote:
> In Lucene 2.x, in method Lock#obtain(long lockWaitTimeout) I see the 
> following line:
> 
> int maxSleepCount = (int)(lockWaitTimeout / LOCK_POLL_INTERVAL);
> 
> Since I wanted to set the lock timeout to the largest possible, I called 
> the IndexWriter#setDefaultWriteLockTimeout(Long.MAX_VALUE). This 
> produces the effect in the quoted line that we get maxSleepCount a 
> negative number.
> 
> Is this intended?
> 
> Cheers,
>    Nik
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


