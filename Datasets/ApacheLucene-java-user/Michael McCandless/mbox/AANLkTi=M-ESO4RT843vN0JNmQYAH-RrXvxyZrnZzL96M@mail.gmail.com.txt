FROM: Michael McCandless <luc...@mikemccandless.com>
SUBJECT: Re: [REINDEX] Note: re-indexing required !
DATE: 23 Jan 2011

Actually, 3.x indices are fine: on upgrading to 3.1 (once released,
soon), you don't need to reindex.  This was a minor index format
change, but it's fully back compatible to 3.0/2.x indices.

But if you are using trunk, then you must do a clean reindex (discard
old index & build new one).

Also this issue (LUCENE-2720) was not really a nasty bug -- it was
closer to an enhancement: we want to make sure that if you open an
IndexWriter on a too-old index (eg 4.0 opens a 2.9 index) that you
quickly get a clear exception saying so.

This is Lucene's index back-compatibility:

  http://wiki.apache.org/lucene-java/BackwardsCompatibility

Ie, you'll never have to do a full reindex on upgrading to a new
dot-release (eg 3.0 -> 3.1) or to the next major release (eg 3.0 ->
4.0).

It's only if you're using 4.0 (trunk, not yet released) that you must
be prepared to discard your index and rebuild it, since there are no
guarantees on the index format from one night to the next.

Mike

On Sun, Jan 23, 2011 at 12:02 PM, Erick Erickson
<erickerickson@gmail.com> wrote:
> <<<Does the "3x" refer to the 3.x development branch?>>>
> yes
>
>
> <<<will a future 3.x release require rebuilding indexes>>>
> Unknown. The devs are trying mightily to keep this kind of thing out of
> the 3_x branch, but this was a fairly nasty bug rather than an
> enhancement which made it important enough to put in the 3x branch.
>
> This is NOT the same sort of issue you've seen in messages about
> rebuilding trunk indexes, those are enhancements and, I believe,
> will never be back-ported to 3x
>
> Best
> Erick
>
> On Sun, Jan 23, 2011 at 11:18 AM, Earl Hood <earl@earlhood.com> wrote:
>
>> On Sat, Jan 22, 2011 at 11:14 PM, Shai Erera <serera@gmail.com> wrote:
>> > Under LUCENE-2720 the index format of both trunk and 3x has changed. You
>> > should re-index any indexes created with either of these code streams.
>>
>> Does the "3x" refer to the 3.x development branch?
>>
>> I.e. For those of using the stable 3.x release of Lucene, will
>> a future 3.x release require rebuilding indexes?
>>
>> --ewh
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


