FROM: "Michael McCandless" <luc...@mikemccandless.com>
SUBJECT: Re: Help - FileNotFoundException during IndexWriter.init()
DATE: 31 Mar 2007


"Antony Bowesman" <adb@teamware.com> wrote:
> Michael McCandless wrote:
> > 
> > Hmmm.  It seems like what's happening is the file in fact exists but
> > Lucene gets "Access is denied" when trying to read it.  Lucene takes a
> > listing of the directory, first.  So if it Lucene has permission to
> > take a directory listing but then no permission to open the segments_N
> > file for reading, that would cause this exception.
> > 
> > Is it possible that your virus checker thought the segments_gq9 file
> > had a virus and turned off "read permisson" in the ACLs for it?  Can
> > you check to see which specific file(s) it thought had viruses?
> 
> What's in the segments file?  The virus would have existed in one of the 
> attachments in another directory queued for indexing.  Those files are queued by 
> a process that has no involvement with the indexing and has not caused a problem 
> on another machine with Mcafee on it.  This one has F-Secure.

The segments file is a very small binary file that contains the
details of each segment in the index.  If the virus checker didn't
quarantine your segments file then I'm not sure what else would have
caused "Access denied" when Lucene tried to open the segments file for
reading...
 
> Unfortunately I was too quick to cancel the message as assumed it was not a 
> problem until I looked at the test logs.
> 
> > Is it possible to tell the virus checker NOT to not check files in
> > your Lucene index directory?
> 
> Yes, I've disabled it currently while the new test runs.  Let's see. 
> I'll re-run the test a few more times and see if I can re-create the problem.

OK let's see if that makes it go away!  Hopefully :)

Mike

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


