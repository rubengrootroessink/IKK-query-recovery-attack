FROM: Michael McCandless <luc...@mikemccandless.com>
SUBJECT: Re: Does LUCENE-831) "Complete overhaul of FieldCache API" provide fieldcache offloading to disk?
DATE: 17 Apr 2008


Mark Miller wrote:

> I think your 2 readers question is interesting and I will certainly
> think about it. Right now though, each IndexReader instance holds  
> it own
> cache. I'll have to dig back into the code and see about possibly  
> keying
> on the directory or something?

I think, with how IndexReader.reopen() now works, we should switch to
somehow having the FieldCache "attached" to each SegmentReader instead
of stored globally keyed by the top MultiSegmentReader.

This way if we do a reopen and say the only change to the index was 10
added docs then the only new FieldCache that gets created is that
length 10 array (because only that SegmentReader will be new).

But then the FieldCache is just starting to feel alot like column- 
stride fields
(LUCENE-1231).

Mike

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


