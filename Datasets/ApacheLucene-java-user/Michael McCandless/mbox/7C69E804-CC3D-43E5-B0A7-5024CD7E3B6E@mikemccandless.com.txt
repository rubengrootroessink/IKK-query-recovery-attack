FROM: Michael McCandless <luc...@mikemccandless.com>
SUBJECT: Re: windows file system cache
DATE: 18 Aug 2008


Toke Eskildsen wrote:

>> Lucene process is around 5 GB, so very little left over for queries,
>> etc, and box starts swapping during searches.
>
> Not so fine and also unexpected. Are you sure that what you're  
> seeing is
> swapping and not just flushing of the write-cache? Are you observing  
> the
> disk-activity only when your switching from writer to reader or does  
> it
> continue to be a problem with subsequent searches?

On Linux, at least, the OS will choose to evict "real" pages (swap  
them out to disk) and then use the RAM for the IO cache instead.  This  
then causes lots of paging when less-often-used parts of your app need  
to access memory.

You can tune the "swappiness" kernel parameter (http://kerneltrap.org/node/3000 
) to change how aggressively it does this.  But I've never heard of a  
corresponding way to tune Windows.

Mike

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


