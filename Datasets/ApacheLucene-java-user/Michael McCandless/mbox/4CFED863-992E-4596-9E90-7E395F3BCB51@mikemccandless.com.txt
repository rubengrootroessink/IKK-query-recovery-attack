FROM: Michael McCandless <luc...@mikemccandless.com>
SUBJECT: Re: IllegalStateEx thrown when calling close
DATE: 29 Oct 2008


Jed Wesley-Smith wrote:

> Yeah, I saw the change to flush(). Trying to work out the correct  
> strategy for our IndexWriter handling now. We probably should not be  
> using autocommit for our writers.

autoCommit=true is deprecated as of 2.4.0, and will go away when we  
finally get to 3.0, so I think switching to false, and possibly  
changing your app to periodically commit() if you were relying on  
those semantics, is a good step forward.

> It was brought up by others that the OutOfMemoryError handling  
> requirements are a fairly strong part of the contract now - but  
> aren't documented. Do you think the last paragraph below should be  
> incorporated into the class JavaDoc?

Well, that paragraph is a workaround for the issue you hit, which only  
applies when autoCommit is true, so going forward (or, if you use  
autoCommit=false) you should simply close the IndexWriter.

Mike

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


