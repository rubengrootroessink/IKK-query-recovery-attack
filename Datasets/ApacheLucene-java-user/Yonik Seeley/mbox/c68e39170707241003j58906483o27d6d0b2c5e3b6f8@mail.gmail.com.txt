FROM: "Yonik Seeley" <yo...@apache.org>
SUBJECT: Re: ArrayIndexOutOfBoundsException on TermScorer
DATE: 24 Jul 2007

On 7/24/07, Rafael Rossini <rafael.rossini@gmail.com> wrote:
> I did a litle debug and found that in the TermScorer, the byte[] norms has
> size = 1.119.933, wich is the number of docs on my index, and there is a
> docID = 1226511, that is if the "doc" variable in the method is the docID.
>
> I tried to access this document with reader.document() and got a *
> java.io.IOException*: read past EOF.
>
> Any ideias how to fix or delete this document?

That document does not exist (docids are just the index into the array
of documents, which only goes up to 1.119.933 (if that's maxDoc()).
So the big question is how the "doc" variable got set to 1226511.

It sounds like perhaps index corruption to me.  The question is if
it's due to a bug or a hardware fault.

-Yonik

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


