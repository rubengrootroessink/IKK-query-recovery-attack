FROM: "Yonik Seeley" <yo...@apache.org>
SUBJECT: Re: restoring a corrupt index?
DATE: 11 Nov 2007

On Nov 11, 2007 1:59 PM, Michael McCandless <lucene@mikemccandless.com> wrote:
> Ryan can you share any details of how you (Solr) is using Lucene?  Are
> you using autoCommit=false?  I'd really love to get to the root cause
> here.

Unfortunately, Solr and Lucene both have something called autocommit now.
Solr autocommit automatically called a solr level "commit" after a
certain amount of time or docs were added (commit == close the writer,
deleted buffered deletes, open new searcher to make the changes
visible.) Lucene's autocommit (added in 2.3 AFAIK) if true, means that
a new segment descriptor will be written (making it visible to a new
reader opened on the index) each time a new segment is flushed by the
writer... otherwise close() needs to be called for this to happen.

Anyway, Ryan was using Lucene 2.2 when this happened (hence
lucene_autoCommit==true, right?)

-Yonik

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


