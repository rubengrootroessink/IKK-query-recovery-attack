FROM: "Yonik Seeley" <yo...@apache.org>
SUBJECT: Re: strange idf in Lucene 2.1
DATE: 13 Apr 2007

On 4/12/07, Koji Sekiguchi <koji@r.email.ne.jp> wrote:
>  > Is the index completely removed between the 2.0 and 2.1 runs?
>
> Sure. If you see my program, you'll find I'm using RAMDirectory.

OK, I think it's due to the change in merge policy.
Lucene 2.0 could under-merge (not enough) or over-merge (before necessary).
I think you are hitting a case of over-merging in Lucene 2.0, where
the second time you write documents, the two segments are merged into
one, squeezing out the deleted docs.

In Lucene 2.1, you end up with two segments (one with the deleted docs).

-Yonik

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


