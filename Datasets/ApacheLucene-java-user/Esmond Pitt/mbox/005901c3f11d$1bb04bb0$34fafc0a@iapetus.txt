FROM: "Esmond Pitt" <esmond.p...@motile.net>
SUBJECT: Inconsistent treatment of field-names between index-time and query-time
DATE: 12 Feb 2004

I have a field Author: and I'm using the StandardAnalyzer. When documents
with this field are added to the index, the field name 'Author' is
case-folded by the analyzer to 'author', and this is how it appears in the
index. Queries using 'Author' therefore do not work, because the field name
is not processed by the analyzer. This seems to be due to line 587 of
QueryParser.jj (as at 1.3-final), which is part of the following:

Query Clause(String field) : {
  Query q;
  Token fieldToken=null, boost=null;
}
{
  [
    LOOKAHEAD(2)
    fieldToken=<TERM> <COLON> { field = fieldToken.image; }
  ]

I believe that 'field = fieldToken.image' needs to be processed by the
Analyzer to solve this problem.

Esmond Pitt



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


