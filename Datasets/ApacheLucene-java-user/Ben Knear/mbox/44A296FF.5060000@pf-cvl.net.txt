FROM: Ben Knear <kne...@pf-cvl.net>
SUBJECT: Re: Flushing RAMDir into FSDir
DATE: 28 Jun 2006

Erick Erickson wrote:
> Kind of a tangential response, but there was a discussion a while back 
> about
> RAMdir .vs. FSDir that you probably want to search for and look over. 
> As I
> remember (and I only glanced at it) the statement was made that the FSDir
> *is* a RAMdir, at least for a while. This implies that there es little 
> to be
> gained by what you are doing. Here's a quote from Yonik
>
> "For indexing, even if you open IndexWriter with a FSDirectory, it
> internally uses RAMDirectory to buffer until it reaches
> maxBufferedDocs."
>
> See the thread IndexWriter.addIndexes & optimization
>
> Of course I don't fully understand your problem space, so your 
> judgement has
> to control. But do you have any metrics indicating that what you are 
> doing
> actually helps?
>
> Best
> Erick
>
Perhaps you could lower the maxBufferedDocs to a more suitable number. 
This would probably lower the speed of the indexing, but minimize damage 
in case of a crash.

Ben Knear

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


