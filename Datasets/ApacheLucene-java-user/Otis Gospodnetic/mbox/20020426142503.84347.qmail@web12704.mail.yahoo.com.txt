FROM: Otis Gospodnetic <otis_gospodne...@yahoo.com>
SUBJECT: Re: FileNotFoundException: Too many open files
DATE: 26 Apr 2002

Hello,

> I'm running into this exception quiet often while using Lucene (the 
> situation is so bad with the latest rc, that I had to revert to the
> last 
> com.lucene package). I'm sure I have my fair share of bugs in my app,
> 
> but nonetheless, how can I "control" Lucene usage of
> RandomAccessFile? 
> The indexes are optimized and I try to keep a close look at how many 
> IndexWriter/Reader exists at any point in time... Nevertheless, I run
> 
> into that exception much too often :-( Any help appreciated!
> 
> "04/26 00:07:11 (Warning) Finder.findObjectsWithSpecificationInStore:
> 
> java.io.FileNotFoundException:  _la.f9 (Too many open files)"

I looked only at your application's screenshots and based on that my
guess is that you have a fairly high number of index fields, and if I
recall correctly that can cause the above error.
This was mentioned on one of the lists fairly recently, I believe.

> Also, on a somewhat related note, how do I "shut down" Lucene
> properly. 
> Eg, do I need to do anything with the IndexWriter and so on?

This was mentioned on the list once, too.
I suggested using a shutdown hook in Runtime package, but then somebody
responded with a drawback of that approach.

> Last, but not least, is there a way to turn of the file locking in
> the latest rc as it's really getting in the way :-(

Not that I know.  If locking is getting in the way maybe you are not
using Lucene properly.  I haven't downloaded your application yet, so I
haven't had the chance to peek at the source.

> Finally, I just wanted to make sure: Lucene is fully multi-threaded 
> right? I can do search *and* write concurrently in different threads
> at the same time on the same index?

Yes, I believe so - I never encountered any problems with that.

> BTW, should I post this kind of question to user or dev?

I suggest -user until/unless we determine that there is something in
Lucene that we can fix or improve.

Otis


__________________________________________________
Do You Yahoo!?
Yahoo! Games - play chess, backgammon, pool and more
http://games.yahoo.com/

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


