FROM: Otis Gospodnetic <otis_gospodne...@yahoo.com>
SUBJECT: Re: 100,000 indexes and what to do
DATE: 13 Mar 2006

Lawrence,

Thanks for the LIA compliments.
In addition to what Paul and Chris already mentioned, keep in mind open files (also covered
in LIA).  If you have 100K separate indices, that means a lot of open file descriptors.  One
common index doesn't have this problem.  Separate indices are still possible, you just have
to be smart about keeping track of used and unused indices and diligent about managing and
freeing up resources.

Otis


----- Original Message ----
From: Lawrence <lucene@savant-is.com>
To: java-user@lucene.apache.org
Sent: Saturday, March 11, 2006 2:07:29 AM
Subject: 100,000 indexes and what to do

Hi all,



I was reading one of the posting on concurrency and I reread section 9.1 in Lucene in Action
which lead me to this question. I have 100,000 customers and I want to provide them with personal
searching for their documents and sometimes to include company documents in that search.

1.    100,000 customers with 10-20 small document each.
2.    Company 5,000 documents, specification, papers, research, etc.
3.    Customers can search their own documents and company document.

P1: Do I provide an index for each customer and allow them multiple index searching, into
company document when they need it?

OR

P2: Do I provide one large index for all my 100,000 customers, adding a field for customer
ID so searching can be constrained, so they won’t/can’t search across other customer’s
documents, and then categorize company documents so customers can do multiple index searches
into company documents?

After writing this out I realize that P2 is probably the wiser choice, less complicated, but
I would like to hear from other Luceners.

Lucene in Action is one of the best written books in my library of ~300 CS books. It ranks
in completeness and clarity up there with works by David Geary, Martin Fowler, and other Hatcher
greats like Java Development with Ant. 

Thanks Otis and Erik.

Regards, Lawrence

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


