FROM: Otis Gospodnetic <otis_gospodne...@yahoo.com>
SUBJECT: RE: ava.io.FileNotFoundException: Too many open files
DATE: 8 Apr 2003

Because file handles were closed immediately in the second case, while
in the first case they remained open until JVM's GC figured out it
could clean up the old IndexSearcher instance.

Otis

--- Rob Outar <routar@ideorlando.org> wrote:
> I was originally doing this:
> 
>  try {
>             if ( hasIndexChanged()) {
>                 this.searcher = new
> IndexSearcher(this.indexLocation);
>             }
>         }
>         catch (IOException e) {
> 
>         }
>     }
> 
> then I changed it to close the searcher before creating a new one:
> 
>  try {
>             if ( hasIndexChanged()) {
>                 this.searcher.close();
>                 this.searcher = new
> IndexSearcher(this.indexLocation);
>             }
>         }
>         catch (IOException e) {
> 
>         }
>     }
> 
> The problem then went away but I am not sure why?
> 
> Rob 
> 
> 
> -----Original Message-----
> From: Rob Outar [mailto:routar@ideorlando.org]
> Sent: Tuesday, April 08, 2003 6:12 PM
> To: Lucene Users List
> Subject: ava.io.FileNotFoundException: Too many open files
> 
> 
> Hi all,
> 
> 	I am running my unit tests in Linux and I am receiving:
> 		java.io.FileNotFoundException:
> /local/build12/onesaf_dev_block_b/PAIR_dev/INDEX/_rk.f9 (Too many
> open
> files)
>     [junit] threadName :main
> 
> I had the sys admin bump up the number of file descriptors to 4096
> but I
> still got the same error.  Has anyone encountered this before?  I
> know it
> has to be something weird I am doing.
> 
> Help!
> 
> Rob
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________________________
Do you Yahoo!?
Yahoo! Tax Center - File online, calculators, forms, and more
http://tax.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


