FROM: "Paul J. Lucas" <p...@lucasmail.org>
SUBJECT: Re: Sorting case-insensitively
DATE: 10 Jul 2008

On Jul 9, 2008, at 10:14 PM, Chris Hostetter wrote:

> I'm going to guess you have a doc where that field doesn't have a  
> value.
> ordinarily that's fine, but maybe SortComparator doesn't handle
> that case very well.

But how does the built-in STRING sort work with null values then?  And  
how do I make a SortComparitor that works?

> what's the full stack trace look like?

See below.

- Paul


java.lang.NullPointerException
	at org.apache.lucene.search.SortComparator 
$1.compare(SortComparator.java:54)
	at  
org 
.apache 
.lucene.search.FieldSortedHitQueue.lessThan(FieldSortedHitQueue.java: 
125)
	at org.apache.lucene.util.PriorityQueue.upHeap(PriorityQueue.java:139)
	at org.apache.lucene.util.PriorityQueue.put(PriorityQueue.java:53)
	at  
org 
.apache 
.lucene.util.PriorityQueue.insertWithOverflow(PriorityQueue.java:78)
	at  
org 
.apache 
.lucene 
.search 
.FieldSortedHitQueue.insertWithOverflow(FieldSortedHitQueue.java:108)
	at  
org 
.apache 
.lucene.search.TopFieldDocCollector.collect(TopFieldDocCollector.java: 
61)
	at org.apache.lucene.search.TermScorer.score(TermScorer.java:76)
	at org.apache.lucene.search.TermScorer.score(TermScorer.java:61)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java: 
146)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java: 
124)
	at org.apache.lucene.search.Hits.getMoreDocs(Hits.java:100)
	at org.apache.lucene.search.Hits.<init>(Hits.java:77)
	at org.apache.lucene.search.Searcher.search(Searcher.java:55)


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


