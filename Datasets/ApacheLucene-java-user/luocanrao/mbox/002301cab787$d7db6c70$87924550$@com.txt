FROM: "luocanrao" <luocan19826...@sohu.com>
SUBJECT: custom FieldCache cost too much time. how can I preload the the custom fieldCache when new segment exits!
DATE: 27 Feb 2010

custom FieldCache cost too much time.
So every first time,reopen the new reader ,it interfere the performance of
search
I hope someone can tell me,how can I preload the the custom fieldCache when
new segment exits!
Thanks again!

here is source	, In FieldComparator.setNextReader method    	
((C2CFieldManager)fieldManager).lCommID =
FieldCache.DEFAULT.getLongs(reader, "1",new LongParser(){
				public long parseLong(String documentIDStr)
{
					documentIDStr =
documentIDStr.substring(16);
					long documentID =
Long.parseLong(documentIDStr,16);
					return documentID;
				}
	    		
	    	});


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


