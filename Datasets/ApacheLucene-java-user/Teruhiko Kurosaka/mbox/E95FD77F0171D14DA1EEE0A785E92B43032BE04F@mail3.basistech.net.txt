FROM: "Teruhiko Kurosaka" <K...@basistech.com>
SUBJECT: RE: NPE inside org.apache.lucene.index.SegmentReader.getNorms
DATE: 3 Dec 2008

Hello again,
A debugging session shows that
SpanWeight.query.field is null when SpanWeight.scorer() is being executed.
API doc says getField() is to "Returns the name of the field matched by this query."
Am I right to assume that this field is set by a search mechanism within Lucene,
not by my code?

> -----Original Message-----
> From: Teruhiko Kurosaka 
> Sent: Wednesday, December 03, 2008 10:01 AM
> To: java-user@lucene.apache.org
> Subject: NPE inside org.apache.lucene.index.SegmentReader.getNorms
> 
> My application died throwing NPE inside SegmentReader.getNorms().
> 
> Exception in thread "main" java.lang.NullPointerException
>         at java.util.Hashtable.get(Hashtable.java:336)
>         at 
> org.apache.lucene.index.SegmentReader.getNorms(SegmentReader.java:438)
>         at 
> org.apache.lucene.index.SegmentReader.norms(SegmentReader.java:450)
>         at 
> org.apache.lucene.search.spans.SpanWeight.scorer(SpanWeight.java:72)
>         at 
> org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:130)
>         at 
> org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:111)
>         at org.apache.lucene.search.Searcher.search(Searcher.java:77) 
> 
> Is there any known Lucene bug that might cause this?
> I'm using Lucene 2.1.0.
> --------
> Basis Technology Corporation, San Francisco T. "Kuro" Kurosaka
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


