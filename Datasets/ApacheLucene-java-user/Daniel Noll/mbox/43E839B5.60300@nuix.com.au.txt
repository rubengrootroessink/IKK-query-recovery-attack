FROM: Daniel Noll <dan...@nuix.com.au>
SUBJECT: Queries not derived from the text index
DATE: 7 Feb 2006

Hi.

I've got an unusual (if not crazy) question about implementing custom 
queries.

Basically we have a UI where a user can enter a query and then select a 
bunch of filters to be applied to the query.  These filters are 
currently implemented using a fairly simple wrapper around Lucene's own 
Filter class.

Now we have one particular customer who says he wants to AND and OR 
these filters in various combinations.  Now, I know that this is 
possible on the model side, because I've already created AndFilter and 
OrFilter classes to do this sort of thing.  However, the view of the 
user interface would be impossible to keep simple if I were to bulk it 
up to support this kind of filtering.

So we are now wondering if it can be done through the query string.
The real question is:

Is it possible to customise the QueryParser so that it returns Query 
instances that have no relationship to the text index whatsoever?  For 
instance, many of our existing filters build their bitsets exclusively 
using a database, and we would need to keep this as-is because we don't 
want to modify the text index itself.

If we can do that, then I'm sure it will be a lot of work to modify the 
query parser, but it will allow a virtually unlimited amount of power to 
the user, and hopefully we won't get hit by this sort of query for quite 
some time to come.  And of course, I would go and re-implement our 
existing filter boxes using this new query syntax underneath.

Daniel

-- 
Daniel Noll

Nuix Australia Pty Ltd
Suite 79, 89 Jones St, Ultimo NSW 2007, Australia
Phone: (02) 9280 0699
Fax:   (02) 9212 6902

This message is intended only for the named recipient. If you are not
the intended recipient you are notified that disclosing, copying,
distributing or taking any action in reliance on the contents of this
message or attachment is strictly prohibited.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


