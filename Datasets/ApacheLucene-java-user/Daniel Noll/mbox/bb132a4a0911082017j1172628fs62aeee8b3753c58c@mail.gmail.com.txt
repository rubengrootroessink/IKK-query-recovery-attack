FROM: Daniel Noll <dan...@nuix.com>
SUBJECT: Re: IndexWriter.close() no longer seems to close everything
DATE: 9 Nov 2009

On Mon, Nov 9, 2009 at 14:41, John Wang <john.wang@gmail.com> wrote:
> I am seeing the samething, but only when IndexWriter.getReader is called at
> a high rate.
>
> from lsof, I see file handles growing.

This hint turned out to help. :-)

Turns out we had an IndexReader hanging around from a previous index
state (before adding docs.)  When the IndexWriter was opened, another
reader was opened, so even though we thought we were closing both, it
turned out there were two readers and one writer, and we were only
closing one of the readers.

Daniel

-- 
Daniel Noll                            Forensic and eDiscovery Software
Senior Developer                              The world's most advanced
Nuix                                                email data analysis
http://nuix.com/                                and eDiscovery software

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


