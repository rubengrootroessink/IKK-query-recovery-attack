FROM: Cristian Vat <cristian....@gmail.com>
SUBJECT: Re: get the total number of hits of a query
DATE: 23 Feb 2010

You shouldn't set the number of documents wanted to Integer.MAX_VALUE.
The number of documents to the search method gives the size of the hit queue
where the results are stored so you would end up consuming a lot of memory.

Much easier to set it to something very small. Lucene must traverse all the
hits in any case to give you the highest scoring documents so totalHits
should be correct.

-
Cristian Vat

On Tue, Feb 23, 2010 at 18:22, jm <jmuguruza@gmail.com> wrote:

> Hi,
>
> I need to find out how many hits a query will get, is this a valid
> way? (Lucene 3.0)
>
>        Query lucquery = ...;
>        IndexSearcher[] indexes = ...
>        MultiSearcher ms = new MultiSearcher(indexes);
>        TopDocs tp = ms.search(lucquery, Integer.MAX_VALUE);
>        int hits = tp.totalHits;
>
> Then depending on the number of hits I will run it again to get all
> results or not.
>
> I have found some posts talking about something similar but I could
> not see a clear answer...
>
> thanks
> javi
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

