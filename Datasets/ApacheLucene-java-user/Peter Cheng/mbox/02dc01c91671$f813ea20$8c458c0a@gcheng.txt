FROM: "Peter Cheng" <petercheng...@gmail.com>
SUBJECT: Memory eaten up by String, Term and TermInfo?
DATE: 14 Sep 2008

Hi the community,

In a Tomcat application (a keyword-based search engine), I use Lucene 2.3.2 to index 60 million
documents, but each document is small-sized. The total index size is about 60GB.
After a successful running for a week, Tomcat was down due to OutOfMemory. Then I restarted
Tomcat, and after three days, I used jmap and jhat to find out what had eaten up the memory.
I found millions of instances of String, Term, and TermInfo. Why?

In my application, I use a single IndexSearcher object, which is shared by all the requests.
It is opened initially, and will never be closed.

What could have eaten up the memory? What is referring to millions of instances of Term and
TermInfo?

I can provide any snippets of codes if necessary.
Thank you so much!

Gong Cheng


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


