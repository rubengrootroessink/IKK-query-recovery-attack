FROM: "Marcus Falck" <marcus.fa...@observer.se>
SUBJECT: SV: Flushing RAMDir into FSDir
DATE: 28 Jun 2006

I'm aware of that the FSDirectory actually stores documents in a RAMDir until merge time. But
the thing is that I also want to store the documents in the RAMDir as snapshots on the harddrive
until they have been flushed down to the FSDir. So I won't loose any documents in a crash.

Does anybody have any proper solution for this?

Maybe it's better to refactor the Lucene code so it fires an event when the merge occurs?

/
Marcus



-----Ursprungligt meddelande-----
Från: Erick Erickson [mailto:erickerickson@gmail.com] 
Skickat: den 28 juni 2006 15:41
Till: java-user@lucene.apache.org
Ämne: Re: Flushing RAMDir into FSDir

Kind of a tangential response, but there was a discussion a while back about
RAMdir .vs. FSDir that you probably want to search for and look over. As I
remember (and I only glanced at it) the statement was made that the FSDir
*is* a RAMdir, at least for a while. This implies that there es little to be
gained by what you are doing. Here's a quote from Yonik

"For indexing, even if you open IndexWriter with a FSDirectory, it
internally uses RAMDirectory to buffer until it reaches
maxBufferedDocs."

See the thread IndexWriter.addIndexes & optimization

Of course I don't fully understand your problem space, so your judgement has
to control. But do you have any metrics indicating that what you are doing
actually helps?

Best
Erick



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


