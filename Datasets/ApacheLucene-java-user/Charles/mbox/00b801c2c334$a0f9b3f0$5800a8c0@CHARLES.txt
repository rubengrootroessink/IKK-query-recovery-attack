FROM: "Charles" <char...@radworkz.com>
SUBJECT: Re: Cannot match field containing value "No"
DATE: 23 Jan 2003

Thanks for your suggestions Dietrich. I'll try it out.

----- Original Message -----
From: "Materna, Wolf-Dietrich (empolis B)"
<Wolf-Dietrich.Materna@empolis.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Sent: Wednesday, January 22, 2003 2:54 AM
Subject: AW: Cannot match field containing value "No"


Hello,

> I seem to be having trouble matching the value "No". The
> snippet of my insert index code looks like this:
> --------------------
> IndexWriter writer = new IndexWriter("indexTest", new
> StandardAnalyzer(), true);
> Document doc = new Document();
> doc.add(Field.Text("YesNo", choice));
> writer.addDocument(doc);
> writer.optimize();
> writer.close();
> -------------------
> where the value of the variable choice is either a "Yes" or a "No"
> and the code to search it looks like this :
>
> ---------------------
> IndexSearcher searcher = new
> IndexSearcher(IndexReader.open("indexTest"));
> Analyzer analyzer = new StandardAnalyzer();
> Query query =
> org.apache.lucene.queryParser.QueryParser.parse(queryString,
> "YesNo", analyzer);
> Hits hits = searcher.search(query);
> System.out.println("Found "+hits.length()+" match");
>
> ---------------------
> where the value of queryString contains the user input which
> is wither a "Yes" or "No"
>
>
> Whenever I insert a "No", I would not be able to retrieve it
> (the output will show 0 mtaches) even though I use the same
> analyzer. Any other values like "Yes","n","y" would get hits.
>  Has anyone went through similar errors? Is this a bug or is
> it some limitation, where lucene can't accept string values
> of "No"? Or am i missing something?
>

The StandardAnalyzer uses a small list of english stop words. These are
common word, which will be ignored, e.g. "no" or "a". Checkout
org.apache.lucene.analysis.standard.StandardAnalyser for the full list.

You have to write your own analyzer. This is very easy: Copy the code from
StandardAnalyzer to your own class and remove the StopFilter or change
the list of Stopwords. Don't forget to rebuild your index after this.
Regards,
Wolf-Dietrich

--
Wolf-Dietrich Materna
Development

empolis GmbH -  arvato knowledge management
Kekul√©str. 7
12489 Berlin, Germany

phone :  +49-30-6780-6510
fax :    +49-30-6780-6549

<<mailto:Wolf-Dietrich.Materna@empolis.com>> <<http://www.empolis.com>>

--
To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>






--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


