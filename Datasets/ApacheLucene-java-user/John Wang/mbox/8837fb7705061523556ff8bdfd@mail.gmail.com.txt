FROM: John Wang <john.w...@gmail.com>
SUBJECT: dangers of fieldcache
DATE: 16 Jun 2005

Hi:

   I am having some problems with the field cache.

   My application keeps a reader in memory for a amount of time and
then polls for a new reader, at which point a new reader is loaded
into memory and the older reader is then closed.

   However, after the reader is loaded, I do some operations such as
sorting which implicitly makes use of and stores data into the default
field cache, which lives in the static memory.

   Now even if I close the reader, the huge amounts of data remains in
the field cache. There isn't a way to flush or clear the fieldcache,
one can only rely the GC do the right thing and pull the soft
references from the WeekHashMap.

   This is baaaaaaaaaaaaad for me.

   Can an method to flush the cache be added to FieldCache? Or any
other suggestions?

    Please let me know, I can file a bug/enhancement for this.

Thanks

-John

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


