FROM: Dror Matalon <d...@zapatec.com>
SUBJECT: Slow response time with datefilter
DATE: 15 Nov 2003


Hi,

We're seeing slow response time when we apply datefilter. A search that
takes 7 msec with no datefilter takes 368 msec when I filter on the last
fifteen days, and 632 msec on the last 30 days.

Initially we saved doing 
document.add(Field.Keyword("dtstamp", dtstamp));

and then change to doing 
document.add(Field.Keyword("dtstamp", DateField.dateToString(dtstamp)));

where dtstamp is a java.util.Date

Either way the results are slow.

We search doing the following:


	days_ago_value = Long.parseLong(days); //could throw NumberFormatException
	days_ago_value = new java.util.Date().getTime() - (days_ago_value * 86400000L);
	hits = indexSearcher.search(query, DateFilter.After("dtstamp", days_ago_value));        
               

Not only is the query slow, but it seems to be slower the more results
it returns. 
 

Any suggestions?

TIA,

Dror

-- 
Dror Matalon
Zapatec Inc 
1700 MLK Way
Berkeley, CA 94709
http://www.fastbuzz.com
http://www.zapatec.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


