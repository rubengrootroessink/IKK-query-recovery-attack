FROM: "Kiran Joisher" <kiran.jois...@recreatesolutions.com>
SUBJECT: java.io.IOException: Cannot delete _1d.fdt
DATE: 7 Jun 2006

Hi,

I am working on a struts application using lucene for indexing mysql
database. Whenever I rebuild the application and deploy in tomcat and try to
rebuild the index from scratch I have to shutdown tomcat and then restart it
again. In case I don't do this I get IOException while creating instance of
IndexWriter

indexWriter = new IndexWriter(indexDir, new PhoneticAnalyzer(new Soundex()),
true);

Stack Trace is as follows:-

java.io.IOException: Cannot delete _1d.fdt
        at org.apache.lucene.store.FSDirectory.create(FSDirectory.java:195)
        at org.apache.lucene.store.FSDirectory.init(FSDirectory.java:176)
        at
org.apache.lucene.store.FSDirectory.getDirectory(FSDirectory.java:141)
        at org.apache.lucene.index.IndexWriter.<init>(IndexWriter.java:225)

I feel its due to some stale lock file in the temp folder of #tomcat_home#.
How do I get rid of this file without having to shutdown the tomcat. 

I am sorry if this is a repeated question.

Thanks in advance,
--Kiran
 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


