FROM: "Chuck Williams" <ch...@manawiz.com>
SUBJECT: Recommended values for mergeFactor, minMergeDocs, maxMergeDocs
DATE: 3 Dec 2004

I'm wondering what values of mergeFactor, minMergeDocs and maxMergeDocs
people have found to yield the best performance for different
configurations.  Is there a repository of this information anywhere?

 

I've got about 30k documents and have 3 indexing scenarios:

1.       Full indexing and optimize

2.       Incremental indexing and optimize

3.       Parallel incremental indexing without optimize

 

Search performance is critical.  For both cases 1 and 2, I'd like the
fastest possible indexing time.  For case 3, I'd like minimal pauses and
no noticeable degradation in search performance.

 

Based on reading the code (including the javadocs comments), I'm
thinking of values along these lines:

 

mergeFactor:  1000 during Full indexing, and during optimize (for both
cases 1 and 2); 10 during incremental indexing (cases 2 and 3)

minMergeDocs:  1000 during Full indexing, 10 during incremental indexing

maxMergeDocs:  Integer.MAX_VALUE during full indexing, 1000 during
incremental indexing

 

Do these values seem reasonable?  Are there better settings before I
start experimenting?

 

Since mergeFactor is used in both addDocument() and optimize(), I'm
thinking of using two different values in case 2:  10 during the
incremental indexing, and then 1000 during the optimize.  Is changing
the value like this going to cause a problem?


Thanks for any advice,

 

Chuck

 

 


