FROM: "vivek sar" <vivex...@gmail.com>
SUBJECT: Help with Lucene Indexer crash recovery
DATE: 5 Oct 2007

Hi,

 We are using Lucene 2.3. The problem we are facing is quite a few
times if our application is stopped (killed or crash) while Indexer is
doing its job, the next time when we bring up the application the
Indexer fails to run with the following exception,

2007-10-04 12:29:53,089 ERROR [PS thread 10] IndexerJob - Full-text
indexer failed to index
java.io.FileNotFoundException:
/opt/manager/apps/conf/index/MasterIndex/_llb.cfs (No such file or
directory)
        at java.io.RandomAccessFile.open(Native Method)
        at java.io.RandomAccessFile.<init>(Unknown Source)
        at org.apache.lucene.store.FSDirectory$FSIndexInput$Descriptor.<init>(FSDirectory.java:506)
        at org.apache.lucene.store.FSDirectory$FSIndexInput.<init>(FSDirectory.java:536)
        at org.apache.lucene.store.FSDirectory.openInput(FSDirectory.java:445)
        at org.apache.lucene.index.CompoundFileReader.<init>(CompoundFileReader.java:70)
        at org.apache.lucene.index.SegmentReader.initialize(SegmentReader.java:181)
        at org.apache.lucene.index.SegmentReader.get(SegmentReader.java:167)
        at org.apache.lucene.index.SegmentReader.get(SegmentReader.java:131)
        at org.apache.lucene.index.IndexReader$1.doBody(IndexReader.java:206)
        at org.apache.lucene.index.SegmentInfos$FindSegmentsFile.run(SegmentInfos.java:610)

The search also doesn't work after this.

Looks like the index were left in some weird state (might be
corrupted). I was wondering if there is a tool or a way to repair the
indexes if we are not able to open them at run-time?

Thanks,
-vivek

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


