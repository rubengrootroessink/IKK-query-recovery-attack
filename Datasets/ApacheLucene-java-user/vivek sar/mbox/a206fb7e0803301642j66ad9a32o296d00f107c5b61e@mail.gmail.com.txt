FROM: "vivek sar" <vivex...@gmail.com>
SUBJECT: java.lang.IllegalArgumentException: Segment is too large
DATE: 30 Mar 2008

Hi,

 I'm using 2.3.0 Lucene build and have following merge parameters,

mergeFactor = 100
maxMergeDocs = 99999
maxBufferedDocs = 10000
maxRAMBufferSizeMB = 200


After running with this setting for a month without problem  all the
sudden I'm getting following exception,

java.lang.IllegalArgumentException: Segment is too large (100001 docs
vs max docs 99999)
        at org.apache.lucene.index.LogMergePolicy.findMerges(LogMergePolicy.java:274)
        at org.apache.lucene.index.IndexWriter.updatePendingMerges(IndexWriter.java:1824)
        at org.apache.lucene.index.IndexWriter.maybeMerge(IndexWriter.java:1799)
        at org.apache.lucene.index.IndexWriter.maybeMerge(IndexWriter.java:1795)
        at org.apache.lucene.index.IndexWriter.maybeMerge(IndexWriter.java:1791)
        at org.apache.lucene.index.IndexWriter.addIndexesNoOptimize(IndexWriter.java:2231)


I thought Lucene should control the number of documents in a segment
during merge. Is there a different configuration I need to set? Should
I leave the maxMergeDocs to its default value, Integer#MAX_VALUE?

Thanks,
-vivek

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


