FROM: Doron Cohen <DOR...@il.ibm.com>
SUBJECT: Re: sorting issue with un-tokenized field
DATE: 17 Jan 2007

For sorting by, that field must be added to the document
exactly *once*, as UN_TOKENIZED.
This way there would be at most one token in that field
for each document.

If, for instance, that field is added twice to the document,
with same or different values, then although UN_TOKENIZED
is specified in both additions, there would be two tokens,
and sort would raise an error.

You can use Luke to see the content of your index - that would help.
(or use IndexReader.termDocs() to examine the index.)

moraleslos <moraleslos@hotmail.com> wrote on 17/01/2007 12:39:41:

>
> Oops, accidently pressed the ENTER key before doing anything  ;-)
>
> I have a field called "bookTitle" that I specified as UN_TOKENIZED and
> STORED in the index (i.e. keyword).  However, when I do a sort on this
field
> during a search I get this error:
>
> Exception occurred during search: java.lang.RuntimeException: there are
more
> terms than documents in field "bookTitles", but it's impossible to sort
on
> tokenized fields
>
> My gut feeling on this is that some of my "bookTitles" are long, e.g. >
10

Why should this matter?

> words, although I'm not sure if this is the cause.  Again I don't
tokenized
> this when storing in the index.  Any suggestions on how to sort this
field
> (which is just a String field) w/o running into this RuntimeException?
> Thanks in advance!
>
> -los
> --
> View this message in context: http://www.nabble.com/sorting-issue-
> with-un-tokenized-field-tf3029674.html#a8418521
> Sent from the Lucene - Java Users mailing list archive at Nabble.com.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


