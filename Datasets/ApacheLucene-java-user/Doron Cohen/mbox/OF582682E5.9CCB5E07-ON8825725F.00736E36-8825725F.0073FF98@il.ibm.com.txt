FROM: Doron Cohen <DOR...@il.ibm.com>
SUBJECT: Re: isCurrent says no, but contents still invisible
DATE: 10 Jan 2007

That's strange. Since you don't close the writer usually adding the doc
would not modify the index (unless adding the doc triggered a merge).

You may want to check that:
1. writer and reader really opened against the same path;
2. reader isCurrent state also before adding the doc and after re-opening;
3. searched terms vs. added terms - might not be related to concurrency at
all.

Finally perhaps post here the code so people can take a look.

"Benson Margulies" <bim2006@basistech.com> wrote on 10/01/2007 12:45:08:

> I'm trying what should be the dumbest possible example of concurrency
> management with 2.0 in Java with an ordinary FSDirectory.
>
>
>
> I create an IndexWriter from a pathname, an IndexReader from the same
> pathname, and an IndexSearcher from the reader.
>
>
>
> I add one document.
>
>
>
> I call isCurrent() on the reader. It says, 'false'.
>
>
>
> So, I close the reader and the searcher, and I create a new reader and a
> new searcher.  I search for the document, and I don't find it.
>
>
>
> I must be missing something simple.
>
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


