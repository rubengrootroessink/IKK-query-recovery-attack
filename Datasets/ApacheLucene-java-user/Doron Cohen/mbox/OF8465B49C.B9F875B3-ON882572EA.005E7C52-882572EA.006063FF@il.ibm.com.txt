FROM: Doron Cohen <DOR...@il.ibm.com>
SUBJECT: Fw: About Lucene-patch-446
DATE: 29 May 2007


---------------------------------------------
taking theis discussion back to the user list
---------------------------------------------

"Huajing Li" wrote on 29/05/2007:

> Hi Doron,
>
> Days ago I published a post in the Lucene user maillist asking
> about merging database data with Lucene queries. You pointed
> out that ValueSourceQuery and CustomScoreQuery can be used to
> achieve this end.
> However, I checked the web page of the Lucene patch (446) and
> found no source codes about these two classes. Would you please
> help me to point out the location of the codes?

Hi Haujing,

I just checked the recent patch in LUCENE-446 and it does
contain the CustomScoreQuery class - perhaps you were
looking at an older version of that patch? The latest one
is "function.patch.txt" dated 05/May/2007, size 93KB. Note
that there are two patch files there by this name, but
the outdated one is grayed out.

> Meanwhile, as I
> was reading the class ValueSource, I found the
> getValues(IndexReader reader) method has to be linked with an
> IndexReader. Correct me if I am wrong. Does this mean that the
> value source has to be somewhere in the index?

getValues() accepts an IndexReader and the provided
implementations in fact read values from the index.
But your implementation can choose to not read values
from the index but rather from a database. You would
probably at least use the reader to verify that it refers
to an "index version" that matches the external (db)
values used as value source.

In LUCENE-446 there's a link to javadocs for this feature,
in particular see the package docs for search.function.

Regards,
Doron


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


