FROM: Doron Cohen <DOR...@il.ibm.com>
SUBJECT: Re: contrib/benchmark questions
DATE: 23 Mar 2007

Hi Grant, I think you resolved the question already, but just to
make sure...

Grant Ingersoll <gsingers@apache.org> wrote on 22/03/2007 20:41:27:

>
> On Mar 22, 2007, at 11:21 PM, Grant Ingersoll wrote:
>
> > I think I see in the ReadTask that it is the res var that is being
> > incremented and would have to be altered.  I guess I can go by
> > elapsed time, but even that seems slightly askew.  I think this is
> > due to the withRetrieve() function overhead inside the for loop.  I
> > have moved it out and will submit that change, too.
> >
>
> Moving it out of the loop made little diff. so I guess it is mostly
> just due to it being late and me being tired and not thinking
> clearly.  B/c if I were, I would just realize that those operations
> are also retrieving documents...

Seems the cause for confusion is that #recs means different things for
different tasks. For all tasks, it means (at least) the number of times
that task executed. For warm, it adds one for each document retrieved.
For traverse, adds one for each doc id "traveresed", and for
traverseAndRetrieve, also adds one for each doc being retrieved.

I'll update the javadocs with this clarification.

Moving the call out of the loop is the right thing of course, changed
the time only, not the #recs, right?

Regards,
Doron


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


