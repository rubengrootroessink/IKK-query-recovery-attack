FROM: "wu fox" <foxwu...@gmail.com>
SUBJECT: Re: Use one or more indexes?
DATE: 14 Jun 2006

哥们:
  这要看你打算如何组织你的索引了.多索引的情况下必须要考虑一个合并的问题
,比如你要查找全文和标题就必须涉及到两个索引的搜索结果,那么你按照什么来合并呢?还有,自己合并结果是一个愚蠢的想法,你必须让lucene替你合并,
这是由于算法的速度决定的.这是多索引最主要的问题,如何去合并各个分区的结果.如果是单分区
,当然你可以把所有相关的东西都放在一个document里,搜索是没有问题的,难度在于"更新",lucene是没有更新操作的,他会先删除doc,再重现添加,如果doc里比较复杂的话你就需要重新去做关于这个doc的索引,如果还涉及到抽取全文,
这个过程需要的时间可就大发了.比如用户修改了一个标题
,要么让用户等上半天等你重新做完索引,注意这时候索引是加锁的,第二个人如果做更新的话只能排队,如果更新频繁的话你甚至还需要队列机制;要么你给用户返回一个结果:系统正在做,然后用户发现更新结果不能马上出来,
他就要骂娘.总之你要根据你的实际情况来决定哪一种方案,因为你提供的信息太少,我只能给你指出两种方案的最大缺点供你参考
