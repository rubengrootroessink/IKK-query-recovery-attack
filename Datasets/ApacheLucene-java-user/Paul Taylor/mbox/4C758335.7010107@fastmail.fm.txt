FROM: Paul Taylor <paul_t...@fastmail.fm>
SUBJECT: Re: Blocking on IndexSearcher search
DATE: 25 Aug 2010

Uwe Schindler wrote:
> Can you show us where it exactly blocks (e.g. use Ctrl-Break on windows to
> print a thread dump)? IndexSearchers methods are not synchronized and
> concurrent access is easy possible, all concurrent access is managed by the
> underlying IndexReader. Maybe you synchronize somewhere in your code?
>
> -----
> Uwe Schindler
> H.-H.-Meier-Allee 63, D-28213 Bremen
> http://www.thetaphi.de
> eMail: uwe@thetaphi.de
>   
I'm picking this up using the Yourkit Profiler

In the thread view it says:
blocked on org.apache.lucene.search.Searcher.search(Query,Filter,int)

On the Monitor Profiling page it says:
Blocked Thread: was blocked on monitor of class 
orga.apache.lucene.store.SimpleFSDirectory$SimpleFSindexInput$Descriptor


is the file system the problem ? I'm creating the index using

Directory directory = FSDirectory.open(new File(INDEX_NAME));
IndexWriter writer  = new IndexWriter(directory,analyzer,true, 
IndexWriter.MaxFieldLength.UNLIMITED);

and my Index Searcher is created as

IndexSearcher is = new IndexSearcher(directory,true);

Paul


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


