FROM: Stephane James Vaucher <vauch...@cirano.qc.ca>
SUBJECT: Re: Memory Requirements
DATE: 13 May 2004

On Thu, 13 May 2004, Matt Quail wrote:

> > do you know of any method to reduce the memory consumption of lucene
> > when searching?
>
> It depends on the complexity of the search, I think. Also, I belive
> scoring might use more memory than the search itself (can anyone confirm
> this?). For example, I often use the HitCollector interface (and a
> BitSet) for queries where I  am not interested in the score.
>
> Apart from that, I'm not aware of any other methods for reducing the
> memory consumption.

Avoid prefix queries and wildcards, since they can be rewritten into large
boolean queries. You can limit the rewritting with a maximum number of
clauses in a BooleanQuery to prevent requests from taking too much memory.

> =Matt
>
> Sascha Ottolski wrote:
>
> > Am Donnerstag, 13. Mai 2004 12:56 schrieb Matt Quail:
> >
> >>>I noticed that  most users have +- 1G of RAM to run Lucene. Does
> >>>anyone have experiences running it on a 128MB or 256MB machine?
> >>
> >>I regularly test my app that uses Lucene by passing -Xmx8m to the
> >>JVM; this is on a box with 1G of ram, but the JVM never more than 8M.
> >>My app runs fine (though there is a little more garbage collection
> >>activity).
> >
> >
> > do you know of any method to reduce the memory consumption of lucene
> > when searching? I've just increased from 400 to --Xmx500m, since
> > sometimes OutOfMemoryExceptions occured (running suns java 1.4.2_04 and
> > lucene-1.4rc3 on an index with ca. 18 Mio entries, building an index
> > (including stored-only-fields) of 9 GB).
> >
> > I've seen that there are ways to limit the memory need for indexing and
> > optimizing(?) by reducing the MergeFactor, but that doesn't seem to
> > apply for searching :-(
> >
> > Thanks,
> >
> > Sascha
> >
> >
> >>=Matt

sv


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


