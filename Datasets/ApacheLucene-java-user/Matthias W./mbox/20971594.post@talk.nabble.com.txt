FROM: "Matthias W." <Matthias.Wang...@e-projecta.com>
SUBJECT: Re: Lucene SpellChecker returns no suggetions after changing Server
DATE: 12 Dec 2008


Yes, I'm passing the same index for Spellchecker and IndexReader.
I'm going to test if this is a reason for my problem.

But I still don't understand why the same code is working on the testserver.

I think this could be because of the rights from tomcat.
Is there any tutorial about the tomcat configuration for lucene with debian?
Or can anyone tell me what's really important? I also don't know why there
are two webapps folders (/var/lib/tomcat5.5/webapps and
/usr/share/tomcat5.5-webapps). I made my JSP's into
/var/lib/tomcat5.5/webapps.
I copied the files from my testserver including the WEB-INF, could this be
the reason?

The changes:
Ubuntu 8.10 -> Debian Etch
Java5  -> Java6
Tomcat6 -> Tomcat 5.5



Grant Ingersoll-6 wrote:
> 
> So, what changed with the server?
> 
>  From the looks of your code, you're passing the same index into both  
> the Spellchecker and the IndexReader.   The spelling index is separate  
> from the main index.
> 
> See the example at:
> http://lucene.apache.org/java/2_4_0/api/contrib-spellchecker/org/apache/lucene/search/spell/SpellChecker.html
> 
> See also my Boot Camp examples at:
> http://www.lucenebootcamp.com/LuceneBootCamp/training/src/test/java/com/lucenebootcamp/training/basic/ContribExamplesTest.java

>    Have a look at the testSpelling code there
> 
> HTH,
> Grant
> 
> 
> On Dec 9, 2008, at 2:50 AM, Matthias W. wrote:
> 
>>
>> Hi,
>> I'm using Lucene's SpellChecker (Lucene 2.1.0) class to get  
>> suggestions.
>> Till now my testing server was a VMWare-Image from 
>> http://es.cohesiveft.com
>> http://es.cohesiveft.com  (Ubuntu 8.10, Tomcat6, Java5).
>> Now I'm using a Debian Etch Server with Tomcat5.5 and Java6.
>>
>> Code-Sample:
>> String indexName = indexLocation;
>> String queryString = null;
>> queryString = URLDecoder.decode(request.getParameter("q"), "UTF-8");
>> SpellChecker spellchecker = new
>> SpellChecker(FSDirectory.getDirectory(indexName));
>> String[] suggestions = spellchecker.suggestSimilar(queryString, 5,
>> IndexReader.open(indexName), "content", false);
>> for(int i = 0; i < suggestions.length; i++) {
>> 	out.println(suggestions[i]);
>> }
>>
>> This worked fine on the old server, but on my new server this returns
>> nothing.
>> The index is generated by the nutch crawler, but this shouldn't be the
>> problem.
>>
>> I've got the lucene-spellchecker-2.1.0.jar in the WEB-INF/lib/ (If I  
>> remove
>> it, I get the expected errormessage.)
>>
>> So I don't know why I neither get results, nor an errormessage.
>> -- 
>> View this message in context:
>> http://www.nabble.com/Lucene-SpellChecker-returns-no-suggetions-after-changing-Server-tp20910159p20910159.html
>> Sent from the Lucene - Java Users mailing list archive at Nabble.com.
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
> 
> --------------------------
> Grant Ingersoll
> 
> Lucene Helpful Hints:
> http://wiki.apache.org/lucene-java/BasicsOfPerformance
> http://wiki.apache.org/lucene-java/LuceneFAQ
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 
> 

-- 
View this message in context: http://www.nabble.com/Lucene-SpellChecker-returns-no-suggetions-after-changing-Server-tp20910159p20971594.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


