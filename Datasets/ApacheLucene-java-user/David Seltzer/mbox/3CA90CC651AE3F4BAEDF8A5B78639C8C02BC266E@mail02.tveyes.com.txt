FROM: "David Seltzer" <dselt...@TVEyes.com>
SUBJECT: Faceting, Sort and DocIDSet
DATE: 17 Apr 2009

I'm sorry If this question touches on too many things at once, but I'm
having problems putting some ideas together - hopefully someone can
help!
 
I have a set of indexes, each index contains a month's worth of
Articles. I need to be able to search the index (sorting by date) and
then apply access-filters based on the Article Source. I'm also trying
to get result counts for each Article Source.

So to perform the search I can execute this:

TopFieldDocs results = myMultiSearcher.search(baseQuery, accessFilter,
100, new Sort("DateField"));

But I don't think that I can use TopDocs if I want to get Article Source
counts. I think I have to use a HitCollector and then create a result
BitSet that I can compare to my pre-cached Article Source BitSets. But
if I use a HitCollector I have no idea how to sort by a field.

So my questions: 
1) How do I use a HitCollector and sort by a field? 
2) Is using BitSets the wrong way to quickly generate facet counts? I've
read about DocIDSets, but I'm not sure how to use them in the same way.
(I'm basing my faceting technique on Sujit Pal's article
http://sujitpal.blogspot.com/2007/04/lucene-search-within-search-with.ht
ml)

Thanks!

-Dave

David Seltzer
Systems Architect
TVEyes
203.254.3600 x222
dseltzer@tveyes.com


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


