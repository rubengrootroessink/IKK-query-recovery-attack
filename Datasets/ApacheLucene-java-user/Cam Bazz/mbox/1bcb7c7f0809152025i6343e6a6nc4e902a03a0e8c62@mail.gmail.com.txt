FROM: "Cam Bazz" <camb...@gmail.com>
SUBJECT: Re: TopDocs question
DATE: 16 Sep 2008

Yes, I looked into implementing a custom collector that would return
number of hits, but - I could not.

collect() can not access anything that is final, and final can not be
incremented.

Any ideas?

Best.

On Tue, Sep 16, 2008 at 6:05 AM, Daniel Noll <daniel@nuix.com> wrote:
> Cam Bazz wrote:
>>
>> Hello,
>>
>> Could it harm if I make a
>>
>> searcher.search(query, Integer.MAX_VALUE) ?
>>
>> I just need to make a query to get the number of hits in this case,
>> but I dont know what the max hits will be.
>
> PriorityQueue will attempt to allocate an array of that size.
>
> But if you only need to know the *number* of hits, and don't need the hits
> themselves, then you should just use a custom HitCollector which increments
> a counter.  It will run much faster.
>
> Daniel
>
>
> --
> Daniel Noll
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


