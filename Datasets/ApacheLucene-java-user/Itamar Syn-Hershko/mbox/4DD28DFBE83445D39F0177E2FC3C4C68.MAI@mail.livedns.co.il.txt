FROM: "Itamar Syn-Hershko" <ita...@divrei-tora.com>
SUBJECT: Why Lucene has to rewrite queries prior to actual searching?
DATE: 7 Apr 2008

Hi all,
 
Can someone from the experts here explain why Lucene has to get a "rewritten" query for the
Searcher - so Phrase or Wildcards queries have to rewrite themselves into a "primitive" query,
that is then passed to Lucene to look for?
I'm probably not familiar too much with the internals of Lucene, but I'd imagine that if you
can inflate a query using wildcards via xxxxQuery sub classing, you could as easily (?) have
some sort of Filter mechanism during the search, so that Lucene retrieves the Position vectors
for all the terms that pass that filter, instead of retrieving only the position data for
deterministic terms (with no wildcards etc.). If that was possible to do somehow, it could
greatly increase the searchability of Lucene indices by using RegEx (without re-writing and
getting the dreaded MaxClauseCount error) and similar.
 
Would love to hear some insights on this one.
 
Itamar.



