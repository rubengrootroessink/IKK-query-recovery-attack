FROM: "Dino Korah" <dcko...@gmail.com>
SUBJECT: Transaction semantics in Document addition
DATE: 19 May 2008

Hi All,
 
I am dealing with a situation where a document could possibly have multiple
attachments to it, and they are all added to the index under a document-id
(not lucene doc-id). Now if one of the attachments fail to get indexed due
to failure of any subsystem like the text extraction module, I need to abort
the complete set of documents under the document id. I add individual
attachments as a seperate documents in lucene.
 
Whats the best mechanism to accomplish this.
 
One possible solution I have in mind is to create a RAMDirectory for each
document with attachems to it and add everything to the RAMDirectory. Once
we are satisfied with the indexing, merge it into the main index.
 
Would that work?
 
Many thanks
Dino
 

