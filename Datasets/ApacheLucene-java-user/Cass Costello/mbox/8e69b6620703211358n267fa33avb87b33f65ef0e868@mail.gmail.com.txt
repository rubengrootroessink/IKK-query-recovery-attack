FROM: "Cass Costello" <cas...@gmail.com>
SUBJECT: Re: Thank you...
DATE: 21 Mar 2007

You all rock.  I'm clearing the semi-official legal hurdle with my CTO and
our head counsel to full (or something close to full) disclosure of some of
the architectural details, so stay tuned for as much as I'm allowed to share
(and btw, for any of you that live/work/vacation in the SF Bay area, I'd be
happy to discuss things over a beer :)

In the meantime, yes, much of the faceting you see on the Browse and Search
pages is direct Solr faceting.  We made *very* liberal use of
faceting-specific fields in our event and ontology documents.

Similarly, we rely on the standard query handler for almost all the Solr
calls.  Our business logic is modelled in a CoR pattern, and we did write
one command to encapsulate SolrCore/Request/Response use for our highest
throughput needs - the win there was direct building into our predominant
xml object model (we use XOM) via a QueryResponseXOMBuilder.build(
solrRequest, solrResponse ) call.

I definitely need clearance before sharing hard perf numbers (anyone working
for TicketMaster on these lists? - funny, I used to use "eBay" in lines like
that - see below) but I will share the fact that our response times and q/s
numbers were very good out-of-the-box.  We've an Ehcache-based distributed
caching framework that we threw in front of the Solr servers, and our final
total throughput for the Solr queries utilized to support Browse runs into
the 100's of requests per sec, per Solr server.  Our Search (true free-text
searches) numbers are lower, but not by that much.

This might be the coolest (for me, anyway) result of the entire endeavor...
StubHub was recently acquired by eBay.  I've been working closely with a
couple of their architects over the past few weeks, and we've done a bit of
theoretical, comparative analysis between our search/browse platform and
theirs (which is completely home grown), and things stack up favorably for
the Solr/Lucene approach, esp. when considering the *vast* difference in
hardware allocation per-request.  Again, if I'm allowed, more details to
follow.

>>...I've taken the liberty of adding stubhub to the "Powered By" Solr
page...

Awesome.  I can't say it enough... thank you all.





On 3/21/07, Yonik Seeley <yonik@apache.org> wrote:
>
> On 3/20/07, Cass Costello <casspc@gmail.com> wrote:
> > Heh - it used to be in my sig ... my bad.
> >
> > Thanks, all. :)
> >
> > http://www.stubhub.com
>
> I tried it out... looks great!
> Is the faceting stuff done with Solr too?
> If so is it the Solr built-in faceting, or a custom query handler?  If
> the latter, can you think of ways to improve the built in faceting
> that would have made things easier?
>
> -Yonik
>



-- 
A complex system that works is invariably found to have evolved from a
simple system that works.
  - John Gaule


-- 
A complex system that works is invariably found to have evolved from a
simple system that works.
  - John Gaule

