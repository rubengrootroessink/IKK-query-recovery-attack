FROM: Ernie Beernink <ernie.beern...@liveplanet.com>
SUBJECT: File already exists errors with lucene 1.0
DATE: 3 Jan 2002

Hi,

I have recently started getting file already exists errors during
incremental indexing or rebuilding of the index.  The files that are causing
the errors are named com1.fnm .. com7.fnm (suspiciously similar to the names
of the ports!).  These files do not exist in the specified directory, and
the errors still occur after deleting the search index and restarting the
server machine.

I am running lucene under Windows 2000.  Apparently it is a Windows feature
that these file names are "reserved" -- I have tried manually creating a
file named com1.xxx and it always tells me that the file already exists, no
matter where I try to create it.

Has anyone run into this problem, and is there a known workaround?  I have
not tried this under newer versions of Lucene.  Could it have been fixed
already?

 -- Ernie

Here's a typical stack trace.

java.io.IOException: \search1\com6.fnm already exists
	at com.lucene.store.FSOutputStream.<init>(FSDirectory.java:191)
	at com.lucene.store.FSDirectory.createFile(FSDirectory.java:137)
	at com.lucene.index.FieldInfos.write(FieldInfos.java:108)
	at com.lucene.index.SegmentMerger.mergeFields(SegmentMerger.java:71)
	at com.lucene.index.SegmentMerger.merge(SegmentMerger.java:53)
	at com.lucene.index.IndexWriter.mergeSegments(IndexWriter.java:267)
	at com.lucene.index.IndexWriter.mergeSegments(IndexWriter.java:241)
	at
com.lucene.index.IndexWriter.maybeMergeSegments(IndexWriter.java:230)
	at com.lucene.index.IndexWriter.addDocument(IndexWriter.java:125)

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


