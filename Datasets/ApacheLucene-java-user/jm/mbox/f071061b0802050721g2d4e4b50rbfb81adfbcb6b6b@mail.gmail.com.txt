FROM: jm <jmugur...@gmail.com>
SUBJECT: Re: SnapshotDeletionPolicy usage
DATE: 5 Feb 2008

Thanks for the reply Mike.

> You can also wrap any other deletion policy (it doesn't have to be
> KeepOnlyLastCommit).
>
> When you want to do a backup, make sure to do try/finally, ie:
>
>    IndexCommitPoint cp = dp.snapshot();
>    try {
>      Collection files = cp.getFileNames();
>      <do copying here>
>    } finally {
>      dp.release();
>    }

Ohhh, I was hoping that by using that policy any _external_ process (a
commercial backup tool) would be able to backup the index files in a
consistent way...I am afraid I was asking too much.

If I manage to coordinate with the external process so it signals it
wants to do a backup, I take the snapshot in the indexing process, and
it then copies the files, and then I release the snapshot that will
work no?

javi

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


