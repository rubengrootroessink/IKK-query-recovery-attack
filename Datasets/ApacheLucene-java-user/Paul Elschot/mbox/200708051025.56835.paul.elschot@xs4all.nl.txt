FROM: Paul Elschot <paul.elsc...@xs4all.nl>
SUBJECT: Re: Complex proximity clauses within Lucene QueryParser
DATE: 5 Aug 2007

Nir,

As Erick said, the surround query language does the things requested.
It is in contrib/surround.

Mark,

On Sunday 05 August 2007 06:33, Mark Miller wrote:
> You might check out Qsol: http://myhardshadow.com/qsol.php
> 
> It is my attempt at just such a parser. Some of that logic can be open 
> to a bit of interpretation (spans vs nonspans).

I had a quick look at the sources, and I missed a parser definition file
in the svn repository. Did I miss it, and when not, could you add it?

As far as qsol syntax goes, here are some suggestions.
Qsol mostly has binary operators, but with the following
operators also as prefix a lot more would be possible.
(Since there is already a prefix form for field searches, a lookahead in the 
syntax might be needed to avoid ambiguity with such prefix operators.)

Boolean:
& and | as prefix would allow easier mapping to BooleanQuery,
and an extra operator for optional clauses (just like ! now) would
allow all possibilities of BooleanQuery.

Distance:
operator ~ as prefix would allow multiple arguments to SpanNearQuery,
and with a single argument this could map to SpanFirstQuery.


Actually, with the above additions, qsol seems to be pretty close to
providing all of lucene in a single query language.

Regards,
Paul Elschot


> 
> - Mark
> 
> tierecke wrote:
> > Hi,
> >
> > I got stuck with a complex proximity clause - and would be grateful to get
> > your help.
> >
> > Does Lucene allow, and if yes: what is the syntax?
> >
> > * Proximity between two phrases, for instance a within n1 words from b 
which
> > is within n2 words from c?
> > * subclauses - for instance (a or b) within n words from (b* or c)?
> > * "a b" within n words from "c d"?
> >
> > that would help immensely. 
> >
> > best regards from Amsterdam,
> > Nir.
> >   
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


