FROM: "Kyle Maxwell" <fizx.l...@gmail.com>
SUBJECT: Re: Generalized proximity query performance
DATE: 5 Oct 2007

>
> Hmmm.. can you give some more concrete examples of what you mean by this?
> both in terms of the use case you are trying to satisfy, and in terms of
> how your current code works ... you don't have to post code or give away
> trade secrets, just describe it as a black box (ie: what is the input?,
> how do you know when to use fieldA vs fieldC,how do you decide when to
> make a span query vs an OR query?


I have a title field, and a genre field.  A user enters the query:
harry potter books

If I could intelligently rewrite queries, this would be better formulated
as:
title:"harry potter"~5 genre:books


Instead, since I don't have that knowledge, I should perhaps rewrite several
guesses, and take the dismax.  These guesses are equivalent to passing the
following query through the MultiFieldQueryParser:

("harry potter"~5 AND books) OR (harry AND "potter books"~5)

This is rather slow.  The in the before/after, the numbers are in seconds,
for one query, before and after this transformation has been made.


Hope that clears things up

-Kyle

