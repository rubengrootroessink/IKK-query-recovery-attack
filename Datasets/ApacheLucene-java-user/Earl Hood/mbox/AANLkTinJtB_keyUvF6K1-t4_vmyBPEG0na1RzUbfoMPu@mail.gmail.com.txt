FROM: Earl Hood <e...@earlhood.com>
SUBJECT: Re: Forcing specific index file names
DATE: 14 Dec 2010

On Tue, Dec 14, 2010 at 9:45 AM, Erick Erickson <erickerickson@gmail.com> wrote:
> Lucene never changes an existing segments file once it is committed.
> It only merges segments then deletes the old ones. So if the file names
> are different, then it seems that renaming them wouldn't be what you
> really want.
>
> So either it really is an XY problem (as in "I really don't think you want
> to do that") or I completely Â misunderstand what
> you're trying to do.

In my testing, when the filenames are the same, doing an xdelta on the
files (mainly the file that contains most of the data, the .cfs file),
there is a significant reduction in the size of the patch file created.

Since bandwidth is a critical factor in the project I'm on, the
reduction in size is very beneficial.  The changes in the data
set are of nature that the search index data itself should not
be drastically different, and hence, xdelta being able to provide
a smaller patch file than the entire new .cfs file.

I could make an exception in the patch creation program to detect
that there is a lucene directly, and diff the .cfs files, even if
they have different names, but was seeing if I can avoid that
so the patch program can be agnostic about the contents of the
directory tree.

--ewh

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


